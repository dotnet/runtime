<Project>
  <PropertyGroup>
    <SkipConfigureTrimming>true</SkipConfigureTrimming>
    <PublishTrimmed>true</PublishTrimmed>
    <TrimMode>full</TrimMode>
    <TrimmerRemoveSymbols>false</TrimmerRemoveSymbols>
    <SelfContained>true</SelfContained>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <!-- Enable NuGet static graph evaluation to optimize incremental restore -->
    <RestoreUseStaticGraphEvaluation>true</RestoreUseStaticGraphEvaluation>
    <!-- Suppress analyzer and linker warnings as these are tests -->
    <EnableTrimAnalyzer>false</EnableTrimAnalyzer>
    <SuppressTrimAnalysisWarnings>true</SuppressTrimAnalysisWarnings>
    <NoWarn>$(NoWarn);IL2121</NoWarn>

    <!-- EventSourceSupport is disabled by default with PublishAot=true, so need to enable it here. -->
    <EventSourceSupport>true</EventSourceSupport>
  </PropertyGroup>
</Project>
