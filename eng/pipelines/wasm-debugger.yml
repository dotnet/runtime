parameters:
  buildConfig: ''
  condition: always()
  shouldContinueOnError: false

steps:
  - script: $(Build.SourcesDirectory)/dotnet.sh
            test
            $(Build.SourcesDirectory)/src/mono/wasm/debugger/DebuggerTestSuite
            /p:Configuration=${{ parameters.buildConfig }}
            /bl:$(Build.SourcesDirectory)/artifacts/log/$(_BuildConfig)/WasmDebuggerTests.binlog
    displayName: Run debugger tests
    condition: and(succeeded(), ${{ parameters.condition }})
    continueOnError: ${{ eq(parameters.shouldContinueOnError, true) }}
