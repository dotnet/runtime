<Project>

  <Import Project="Version.Details.props" />

  <PropertyGroup>
    <!-- The .NET product branding version -->
    <ProductVersion>11.0.0</ProductVersion>
    <!-- File version numbers -->
    <MajorVersion>11</MajorVersion>
    <MinorVersion>0</MinorVersion>
    <PatchVersion>0</PatchVersion>
    <PackageVersionNet10>10.0.0</PackageVersionNet10>
    <PackageVersionNet9>9.0.$([MSBuild]::Add($([System.Version]::Parse('$(PackageVersionNet10)').Build),12))</PackageVersionNet9>
    <PackageVersionNet8>8.0.$([MSBuild]::Add($([System.Version]::Parse('$(PackageVersionNet9)').Build),11))</PackageVersionNet8>
    <PackageVersionNet7>7.0.20</PackageVersionNet7>
    <PackageVersionNet6>6.0.36</PackageVersionNet6>
    <PreReleaseVersionLabel>alpha</PreReleaseVersionLabel>
    <PreReleaseVersionIteration>1</PreReleaseVersionIteration>
    <!-- Enable to remove prerelease label. -->
    <StabilizePackageVersion Condition="'$(StabilizePackageVersion)' == ''">false</StabilizePackageVersion>
    <DotNetFinalVersionKind Condition="'$(StabilizePackageVersion)' == 'true'">release</DotNetFinalVersionKind>
    <!-- SdkVersionForWorkloadTesting is used to compute the sdk band and version for workload testing.
         The published manifests are built in dotnet/sdk so these values are for testing purposes only.
         We use $(MicrosoftNETWorkloadEmscriptenCurrentManifest100100TransportVersion) unless it is lower
         than the sdk version specified in global.json
      -->
    <!-- NETCoreSdkVersion is normally set by the SDK, but for non-SDK projects we need extract from global.json -->
    <_GlobalJsonContent>$([System.IO.File]::ReadAllText('$(MSBuildThisFileDirectory)../global.json'))</_GlobalJsonContent>
    <_GlobalJsonSdkVersion Condition="'$(_GlobalJsonContent)' != ''">$([System.Text.RegularExpressions.Regex]::Match($(_GlobalJsonContent), '"sdk"\s*:\s*\{[^\}]*"version"\s*:\s*"([^"]+)"', System.Text.RegularExpressions.RegexOptions.Singleline).Groups[1].Value)</_GlobalJsonSdkVersion>
    <_DotnetSdkVersion>$(MicrosoftNETWorkloadEmscriptenCurrentManifest110100TransportVersion)</_DotnetSdkVersion>
    <SdkVersionForWorkloadTesting Condition="$([System.String]::Compare('$(_GlobalJsonSdkVersion)', '$(_DotnetSdkVersion)')) &lt;= 0">$(_DotnetSdkVersion)</SdkVersionForWorkloadTesting>
    <SdkVersionForWorkloadTesting Condition="'$(SdkVersionForWorkloadTesting)' == ''">$(_GlobalJsonSdkVersion)</SdkVersionForWorkloadTesting>
    <SdkMajorVersion>$([System.String]::Copy('$(SdkVersionForWorkloadTesting)').Split('.')[0])</SdkMajorVersion>
    <SdkBandVersion>$(SdkMajorVersion).0.100</SdkBandVersion>
    <SdkPreReleaseLabel>$([System.Text.RegularExpressions.Regex]::Match($(SdkVersionForWorkloadTesting), '-(?!rtm|servicing)(.+)\.[^.]+\.[^.]+$').Groups[1].Value)</SdkPreReleaseLabel>
    <SdkBandVersionForWorkload_FromRuntimeVersions Condition="'$(SdkPreReleaseLabel)' == ''">$(SdkBandVersion)</SdkBandVersionForWorkload_FromRuntimeVersions>
    <SdkBandVersionForWorkload_FromRuntimeVersions Condition="'$(SdkPreReleaseLabel)' != ''">$(SdkBandVersion)-$(SdkPreReleaseLabel)</SdkBandVersionForWorkload_FromRuntimeVersions>

    <!-- Set assembly version to align with major and minor version,
         as for the patches and revisions should be manually updated per assembly if it is serviced. -->
    <AssemblyVersion>$(MajorVersion).$(MinorVersion).0.0</AssemblyVersion>

    <!-- Arcade features -->
    <UsingToolIbcOptimization>false</UsingToolIbcOptimization>
    <UsingToolXliff>false</UsingToolXliff>
    <!-- Runtime controls its dependency graph via Traversal projects and doesn't want or need Arcade's ExcludeFrom infrastructure. -->
    <DisableArcadeExcludeFromBuildSupport>true</DisableArcadeExcludeFromBuildSupport>
    <UsingToolMicrosoftNetCompilers>true</UsingToolMicrosoftNetCompilers>
  </PropertyGroup>

  <ItemGroup>
    <WorkloadSdkBandVersions Include="$(SdkBandVersion)" SupportsMachineArch="true" />
  </ItemGroup>

  <!--
    For source generator support we need to target multiple versions of Roslyn in order to be able to run on older versions of Roslyn.
    We pin these versions as we need to match them exactly for any scenarios that run Roslyn on .NET Framework, like Visual Studio.
  -->
  <PropertyGroup>
    <!-- Compatibility with VS 16.11/.NET SDK 5.0.4xx -->
    <MicrosoftCodeAnalysisVersion_3_11>3.11.0</MicrosoftCodeAnalysisVersion_3_11>
    <!-- Compatibility with VS 17.0/.NET SDK 6.0.1xx  -->
    <MicrosoftCodeAnalysisVersion_4_0>4.0.1</MicrosoftCodeAnalysisVersion_4_0>
    <!-- Compatibility with VS 17.4/.NET SDK 7.0.1xx -->
    <MicrosoftCodeAnalysisVersion_4_4>4.4.0</MicrosoftCodeAnalysisVersion_4_4>
    <!-- Compatibility with VS 17.8/.NET SDK 8.0.1xx -->
    <MicrosoftCodeAnalysisVersion_4_8>4.8.0</MicrosoftCodeAnalysisVersion_4_8>
    <!-- Compatibility with the latest Visual Studio Preview release -->
    <!--
      The exact version is always a moving target. This version should never go ahead of the version of Roslyn that is included in the most recent
      public Visual Studio preview version. If it were to go ahead, then any components depending on this version would not work in Visual Studio
      and would cause a major regression for any local development that depends on those components contributing to the build.
      This version must also not go ahead of the most recently release .NET SDK version, as that would break the source-build build.
      Source-build builds the product with the most recent previously source-built release. Thankfully, these two requirements line up nicely
      such that any version that satisfies the VS version requirement will also satisfy the .NET SDK version requirement because of how we ship.
    -->
    <MicrosoftCodeAnalysisVersion_LatestVS>4.14.0</MicrosoftCodeAnalysisVersion_LatestVS>
    <!-- Some of the analyzer dependencies used by ILLink project -->
    <MicrosoftCodeAnalysisBannedApiAnalyzersVersion>3.3.5-beta1.23270.2</MicrosoftCodeAnalysisBannedApiAnalyzersVersion>
  </PropertyGroup>

  <!--
    These packages affect the design-time experience in VS, so we update them at the same cadance as the MicrosoftCodeAnalysisVersion_LatestVS version.
  -->
  <PropertyGroup>
    <MicrosoftCodeAnalysisCSharpCodeStyleVersion>$(MicrosoftCodeAnalysisVersion_LatestVS)</MicrosoftCodeAnalysisCSharpCodeStyleVersion>
  </PropertyGroup>

  <PropertyGroup>
    <StaticCsVersion>0.2.0</StaticCsVersion>
    <!-- NuGet dependencies -->
    <NuGetBuildTasksPackVersion>6.0.0-preview.1.102</NuGetBuildTasksPackVersion>
    <!-- Installer dependencies -->
    <MicrosoftExtensionsDependencyModelVersion>6.0.0</MicrosoftExtensionsDependencyModelVersion>
    <!-- Maintenance-Packages dependencies -->
    <MicrosoftBclHashCodeVersion>6.0.0</MicrosoftBclHashCodeVersion>
    <SystemBuffersVersion>4.6.1</SystemBuffersVersion>
    <SystemDataSqlClientVersion>4.9.0</SystemDataSqlClientVersion>
    <SystemMemoryVersion>4.6.3</SystemMemoryVersion>
    <SystemNumericsVectorsVersion>4.6.1</SystemNumericsVectorsVersion>
    <SystemRuntimeCompilerServicesUnsafeVersion>6.1.2</SystemRuntimeCompilerServicesUnsafeVersion>
    <SystemThreadingTasksExtensionsVersion>4.6.3</SystemThreadingTasksExtensionsVersion>
    <SystemValueTupleVersion>4.6.1</SystemValueTupleVersion>
    <!-- Libraries dependencies -->
    <MicrosoftBclAsyncInterfacesVersion>6.0.0</MicrosoftBclAsyncInterfacesVersion>
    <MicrosoftWin32RegistryVersion>5.0.0</MicrosoftWin32RegistryVersion>
    <StyleCopAnalyzersVersion>1.2.0-beta.556</StyleCopAnalyzersVersion>
    <SystemComponentModelAnnotationsVersion>5.0.0</SystemComponentModelAnnotationsVersion>
    <SystemDrawingCommonVersion>8.0.0</SystemDrawingCommonVersion>
    <SystemFormatsAsn1Version>8.0.1</SystemFormatsAsn1Version>
    <SystemIOFileSystemAccessControlVersion>5.0.0</SystemIOFileSystemAccessControlVersion>
    <SystemSecurityAccessControlVersion>6.0.0</SystemSecurityAccessControlVersion>
    <SystemSecurityCryptographyCngVersion>5.0.0</SystemSecurityCryptographyCngVersion>
    <SystemSecurityCryptographyOpenSslVersion>5.0.0</SystemSecurityCryptographyOpenSslVersion>
    <SystemSecurityPrincipalWindowsVersion>5.0.0</SystemSecurityPrincipalWindowsVersion>
    <SystemSecurityPermissionsVersion>7.0.0</SystemSecurityPermissionsVersion>
    <SystemThreadingAccessControlVersion>7.0.0</SystemThreadingAccessControlVersion>
    <!-- Keep toolset versions in sync with dotnet/msbuild and dotnet/sdk -->
    <MicrosoftBclAsyncInterfacesToolsetVersion>8.0.0</MicrosoftBclAsyncInterfacesToolsetVersion>
    <MicrosoftIoRedistToolsetVersion>6.0.1</MicrosoftIoRedistToolsetVersion>
    <SystemBuffersToolsetVersion>4.5.1</SystemBuffersToolsetVersion>
    <SystemCollectionsImmutableToolsetVersion>8.0.0</SystemCollectionsImmutableToolsetVersion>
    <SystemMemoryToolsetVersion>4.5.5</SystemMemoryToolsetVersion>
    <SystemTextJsonToolsetVersion>8.0.5</SystemTextJsonToolsetVersion>
    <SystemReflectionMetadataLoadContextToolsetVersion>8.0.0</SystemReflectionMetadataLoadContextToolsetVersion>
    <SystemReflectionMetadataToolsetVersion>8.0.0</SystemReflectionMetadataToolsetVersion>
    <SystemTextEncodingsWebToolsetVersion>8.0.0</SystemTextEncodingsWebToolsetVersion>
    <SystemThreadingTasksExtensionsToolsetVersion>4.5.4</SystemThreadingTasksExtensionsToolsetVersion>
    <!-- Not auto-updated. -->
    <MicrosoftDiaSymReaderVersion>2.0.0</MicrosoftDiaSymReaderVersion>
    <MicrosoftDiaSymReaderNativeVersion>17.10.0-beta1.24272.1</MicrosoftDiaSymReaderNativeVersion>
    <TraceEventVersion>3.1.16</TraceEventVersion>
    <MicrosoftDiagnosticsNetCoreClientVersion>0.2.621003</MicrosoftDiagnosticsNetCoreClientVersion>
    <NETStandardLibraryRefVersion>2.1.0</NETStandardLibraryRefVersion>
    <NetStandardLibraryVersion>2.0.3</NetStandardLibraryVersion>
    <MicrosoftDiagnosticsToolsRuntimeClientVersion>1.0.4-preview6.19326.1</MicrosoftDiagnosticsToolsRuntimeClientVersion>
    <DNNEVersion>2.0.5</DNNEVersion>
    <MicrosoftBuildVersion>17.11.48</MicrosoftBuildVersion>
    <MicrosoftBuildTasksCoreVersion>17.11.48</MicrosoftBuildTasksCoreVersion>
    <MicrosoftBuildFrameworkVersion>17.11.48</MicrosoftBuildFrameworkVersion>
    <MicrosoftBuildUtilitiesCoreVersion>17.11.48</MicrosoftBuildUtilitiesCoreVersion>
    <DotnetSosVersion>7.0.412701</DotnetSosVersion>
    <DotnetSosTargetFrameworkVersion>6.0</DotnetSosTargetFrameworkVersion>
    <Antlr4CodeGeneratorVersion>4.6.6</Antlr4CodeGeneratorVersion>
    <Antlr4RuntimeVersion>4.6.6</Antlr4RuntimeVersion>
    <!-- Testing -->
    <MicrosoftNETCoreCoreDisToolsVersion>1.6.0</MicrosoftNETCoreCoreDisToolsVersion>
    <MicrosoftNETTestSdkVersion>17.4.0-preview-20220707-01</MicrosoftNETTestSdkVersion>
    <NUnitVersion>3.12.0</NUnitVersion>
    <NUnit3TestAdapterVersion>4.5.0</NUnit3TestAdapterVersion>
    <CoverletCollectorVersion>6.0.4</CoverletCollectorVersion>
    <SystemComponentModelAnnotationsVersion>5.0.0</SystemComponentModelAnnotationsVersion>
    <JsonSchemaNetVersion>7.0.2</JsonSchemaNetVersion>
    <NewtonsoftJsonVersion>13.0.3</NewtonsoftJsonVersion>
    <NewtonsoftJsonBsonVersion>1.0.2</NewtonsoftJsonBsonVersion>
    <MoqVersion>4.18.4</MoqVersion>
    <AwesomeAssertionsVersion>8.0.2</AwesomeAssertionsVersion>
    <FsCheckVersion>2.14.3</FsCheckVersion>
    <CommandLineParserVersion>2.9.1</CommandLineParserVersion>
    <CompilerPlatformTestingVersion>1.1.3-beta1.24423.1</CompilerPlatformTestingVersion>
    <CompilerPlatformTestingDiffPlexVersion>1.7.2</CompilerPlatformTestingDiffPlexVersion>
    <CompilerPlatformTestingMicrosoftVisualBasicVersion>10.2.0</CompilerPlatformTestingMicrosoftVisualBasicVersion>
    <CompilerPlatformTestingMicrosoftVisualStudioCompositionVersion>17.0.46</CompilerPlatformTestingMicrosoftVisualStudioCompositionVersion>
    <!-- Docs -->
    <MicrosoftPrivateIntellisenseVersion>10.0.0-preview-20251006.1</MicrosoftPrivateIntellisenseVersion>
    <!-- MsQuic -->
    <MicrosoftNativeQuicMsQuicSchannelVersion>2.4.16</MicrosoftNativeQuicMsQuicSchannelVersion>
    <!-- emscripten workload package when testing workloads -->
    <MicrosoftNETRuntimeEmscriptenVersion>$(MicrosoftDotNetApiCompatTaskPackageVersion)</MicrosoftNETRuntimeEmscriptenVersion>
    <EmsdkPackageVersion>10.0.0</EmsdkPackageVersion>
    <NodePackageVersion>$(runtimewinx64MicrosoftNETCoreRuntimeWasmNodeTransportPackageVersion)</NodePackageVersion>
    <!-- The package path for python in src/mono/mono.proj needs to be updated if this changes-->
    <EmsdkVersion>3.1.56</EmsdkVersion>
    <!-- WiX 5+ dependencies for MSI generation -->
    <SwixPackageVersion>1.1.87-gba258badda</SwixPackageVersion>
    <WixPackageVersion>1.0.0-v3.14.0.5722</WixPackageVersion>
    <!-- BrowserDebugProxy libs -->
    <MicrosoftExtensionsLoggingVersion>3.1.7</MicrosoftExtensionsLoggingVersion>
    <MicrosoftSymbolStoreVersion>1.0.406601</MicrosoftSymbolStoreVersion>
    <!-- WiX 5+ dependencies for MSI generation -->
    <MicrosoftWixVersion>5.0.2-dotnet.2811440</MicrosoftWixVersion>
    <MicrosoftWixToolsetUIWixextVersion>5.0.2-dotnet.2811440</MicrosoftWixToolsetUIWixextVersion>
    <MicrosoftWixToolsetDependencyWixextVersion>5.0.2-dotnet.2811440</MicrosoftWixToolsetDependencyWixextVersion>
    <MicrosoftWixToolsetUtilWixextVersion>5.0.2-dotnet.2811440</MicrosoftWixToolsetUtilWixextVersion>
    <MicrosoftWixToolsetBalWixextVersion>5.0.2-dotnet.2811440</MicrosoftWixToolsetBalWixextVersion>
    <MicrosoftWixToolsetHeatVersion>5.0.2-dotnet.2811440</MicrosoftWixToolsetHeatVersion>
  </PropertyGroup>

</Project>
