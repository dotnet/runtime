<Project Sdk="Microsoft.NET.Sdk.WebAssembly">
  <PropertyGroup>
    <TargetFramework>$(NetCoreAppCurrent)</TargetFramework>
    <RuntimeIdentifier>wasi-wasm</RuntimeIdentifier>
    
    <TargetOs>wasi</TargetOs>
    <WasmBuildNative>true</WasmBuildNative>
    <WasmNativeStrip>false</WasmNativeStrip>
    <IsBrowserWasmProject>false</IsBrowserWasmProject>
    <WasmSingleFileBundle>true</WasmSingleFileBundle>
    <OutputType>Library</OutputType>
    <!-- This is needed for ReferenceCopyLocalPaths to include RuntimePackAsset-->
    <CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
    <!-- This is needed so it will not complain about WasmAssembliesToBundle is empty -->
    <GenerateRuntimeConfigurationFiles>true</GenerateRuntimeConfigurationFiles>
  </PropertyGroup>

  <ItemGroup>
    <NativeFileReference Include="local.c" />
  </ItemGroup>
  <Target Name="RunSample" DependsOnTargets="RunSampleWithWasmtime" />
</Project>
