<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>$(NetCoreAppCurrent)-Windows_NT;net48-Windows_NT</TargetFrameworks>
    <IncludeRemoteExecutor>true</IncludeRemoteExecutor>
    <DefineConstants>$(DefineConstants);WINHTTPHANDLER_TEST</DefineConstants>
    <LangVersion>8.0</LangVersion>
  </PropertyGroup>
  <ItemGroup Condition=" '$(TargetsWindows)' == 'true' ">
    <Compile Include="$(CommonTestPath)System\Net\Configuration.cs"
             Link="Common\System\Net\Configuration.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Configuration.Http.cs"
             Link="Common\System\Net\Configuration.Http.cs" />
    <Compile Include="AssemblyInfo.cs" />
    <Compile Include="BaseCertificateTest.cs" />
    <Compile Include="ServerCertificateTest.cs" />
    <Compile Include="WinHttpHandlerTest.cs" />
    <Compile Include="XunitTestAssemblyAtrributes.cs" /> 
    <Compile Include="$(CommonPath)\System\Net\Http\HttpHandlerDefaults.cs"
             Link="Common\System\Net\Http\HttpHandlerDefaults.cs" />
    <Compile Include="$(CommonTestPath)System\IO\DelegateStream.cs"
             Link="Common\System\IO\DelegateStream.cs" />    
    <Compile Include="$(CommonTestPath)System\Net\Configuration.Certificates.cs"
             Link="Common\System\Net\Configuration.Certificates.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Configuration.Security.cs"
             Link="Common\System\Net\Configuration.Security.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Configuration.Sockets.cs"
             Link="Common\System\Net\Configuration.Sockets.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Capability.Security.cs"
             Link="Common\System\Net\Capability.Security.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Capability.Security.Windows.cs"
             Link="Common\System\Net\Capability.Security.Windows.cs" />
    <Compile Include="$(CommonTestPath)System\Net\EventSourceTestLogging.cs"
             Link="Common\System\Net\EventSourceTestLogging.cs" />
    <Compile Include="$(CommonTestPath)System\Net\HttpsTestServer.cs"
             Link="Common\System\Net\HttpsTestServer.cs" />
    <Compile Include="$(CommonTestPath)System\Net\RemoteServerQuery.cs"
             Link="Common\System\Net\RemoteServerQuery.cs" />
    <Compile Include="$(CommonTestPath)System\Net\VerboseTestLogging.cs"
             Link="Common\System\Net\VerboseTestLogging.cs" />
    <Compile Include="$(CommonTestPath)System\Net\TestWebProxies.cs"
             Link="Common\System\Net\TestWebProxies.cs" />
    <Compile Include="$(CommonTestPath)System\Net\StreamArrayExtensions.cs"
             Link="Common\System\Net\StreamArrayExtensions.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\ByteAtATimeContent.cs"
             Link="Common\System\Net\Http\ByteAtATimeContent.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\ChannelBindingAwareContent.cs"
             Link="Common\System\Net\Http\ChannelBindingAwareContent.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\CustomContent.cs"
             Link="Common\System\Net\Http\CustomContent.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\DefaultCredentialsTest.cs"
             Link="Common\System\Net\Http\DefaultCredentialsTest.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\DribbleStream.cs"
             Link="Common\System\Net\Http\DribbleStream.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\GenericLoopbackServer.cs"
             Link="Common\System\Net\Http\GenericLoopbackServer.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTestBase.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTestBase.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\Http2Frames.cs"
             Link="Common\System\Net\Http\Http2Frames.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HPackEncoder.cs"
             Link="Common\System\Net\Http\HPackEncoder.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\Http2LoopbackServer.cs"
             Link="Common\System\Net\Http\Http2LoopbackServer.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\Http2LoopbackConnection.cs"
             Link="Common\System\Net\Http\Http2LoopbackConnection.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\QPackTestDecoder.cs"
             Link="Common\System\Net\Http\QPackTestDecoder.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\QPackTestEncoder.cs"
             Link="Common\System\Net\Http\QPackTestEncoder.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HuffmanDecoder.cs"
             Link="Common\System\Net\Http\HuffmanDecoder.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HuffmanEncoder.cs"
             Link="Common\System\Net\Http\HuffmanEncoder.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.AcceptAllCerts.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.AcceptAllCerts.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.Asynchrony.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.Asynchrony.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.Authentication.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.Authentication.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.AutoRedirect.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.AutoRedirect.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.Cancellation.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.Cancellation.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.ClientCertificates.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.ClientCertificates.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.Cookies.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.Cookies.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.Decompression.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.Decompression.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.DefaultProxyCredentials.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.DefaultProxyCredentials.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.MaxConnectionsPerServer.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.MaxConnectionsPerServer.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.MaxResponseHeadersLength.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.MaxResponseHeadersLength.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.Proxy.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.Proxy.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.ServerCertificates.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.ServerCertificates.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientHandlerTest.SslProtocols.cs"
             Link="Common\System\Net\Http\HttpClientHandlerTest.SslProtocols.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpProtocolTests.cs"
             Link="Common\System\Net\Http\HttpProtocolTests.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClient.SelectedSitesTest.cs"
             Link="Common\System\Net\Http\HttpClient.SelectedSitesTest.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpClientEKUTest.cs"
             Link="Common\System\Net\Http\HttpClientEKUTest.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\HttpRetryProtocolTests.cs"
             Link="Common\System\Net\Http\HttpRetryProtocolTests.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\IdnaProtocolTests.cs"
             Link="Common\System\Net\Http\IdnaProtocolTests.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\LoopbackProxyServer.cs"
             Link="Common\System\Net\Http\LoopbackProxyServer.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\LoopbackServer.cs"
             Link="Common\System\Net\Http\LoopbackServer.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\LoopbackServer.AuthenticationHelpers.cs"
             Link="Common\System\Net\Http\LoopbackServer.AuthenticationHelpers.cs" />
    <Compile Include="$(CommonTestPath)System\Net\SslProtocolSupport.cs"
             Link="Common\System\Net\SslProtocolSupport.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\TestHelper.cs"
             Link="Common\System\Net\Http\TestHelper.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\PostScenarioTest.cs"
             Link="Common\System\Net\Http\PostScenarioTest.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\RepeatedFlushContent.cs"
             Link="Common\System\Net\Http\RepeatedFlushContent.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\ResponseStreamTest.cs"
             Link="Common\System\Net\Http\ResponseStreamTest.cs" />    
    <Compile Include="$(CommonTestPath)System\Net\Http\SchSendAuxRecordHttpTest.cs"
             Link="Common\System\Net\Http\SchSendAuxRecordHttpTest.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\SyncBlockingContent.cs"
             Link="Common\System\Net\Http\SyncBlockingContent.cs" />
    <Compile Include="$(CommonTestPath)System\Net\Http\ThrowingContent.cs"
             Link="Common\System\Net\Http\ThrowingContent.cs" />
    <Compile Include="$(CommonTestPath)System\Threading\Tasks\TaskTimeoutExtensions.cs"
             Link="Common\System\Threading\Tasks\TaskTimeoutExtensions.cs" />
    <Compile Include="$(CommonTestPath)System\Threading\TrackingSynchronizationContext.cs"
             Link="Common\System\Threading\TrackingSynchronizationContext.cs" />
    <Compile Include="HttpClientHandlerTestBase.WinHttpHandler.cs" />
    <Compile Include="WinHttpClientHandler.cs" />
    <Compile Include="PlatformHandlerTest.cs" />
    <Compile Include="ClientCertificateTest.cs" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="Newtonsoft.Json" Version="$(NewtonsoftJsonVersion)" />
    <PackageReference Include="System.Net.TestData" Version="$(SystemNetTestDataVersion)" />
    <ProjectReference Include="..\..\src\System.Net.Http.WinHttpHandler.csproj" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.StartsWith('$(NetCoreAppCurrent)'))">
    <ProjectReference Include="$(LibrariesProjectRoot)System.DirectoryServices.Protocols\src\System.DirectoryServices.Protocols.csproj" />
  </ItemGroup>
  <ItemGroup Condition="$(TargetFramework.StartsWith('net48'))">
    <Reference Include="System.DirectoryServices.Protocols" />
    <Reference Include="System.Net.Http" />
    <ProjectReference Include="$(LibrariesProjectRoot)System.Net.Http.Json\src\System.Net.Http.Json.csproj" />
  </ItemGroup>
</Project>
