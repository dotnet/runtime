<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="14.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003" DefaultTargets="Build">
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), dir.props))\dir.props" />
  <Import Project="$(ProjectDir)pkg/baseline/baseline.props" />
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), dir.targets))\dir.targets" />

  <PropertyGroup>
    <TargetFrameworks>netstandard1.6</TargetFrameworks>
  </PropertyGroup>

  <ItemDefinitionGroup>
    <LibraryPackage>
      <!--
        Feed a higher version then any known stable version to ensure we get the latest stable
        version from the package index
       -->
      <Version>255.255.255</Version>
    </LibraryPackage>
  </ItemDefinitionGroup>

  <ItemGroup>
    <LibraryPackage Include="Microsoft.CSharp" />
    <LibraryPackage Include="Microsoft.VisualBasic" />
    <LibraryPackage Include="Microsoft.Win32.Registry" />
    <LibraryPackage Include="Microsoft.Win32.Registry.AccessControl" />
    <LibraryPackage Include="System.Buffers" />
    <LibraryPackage Include="System.Collections.Immutable" />
    <LibraryPackage Include="System.Composition" />
    <LibraryPackage Include="System.Composition.AttributedModel" />
    <LibraryPackage Include="System.Composition.Convention" />
    <LibraryPackage Include="System.Composition.Hosting" />
    <LibraryPackage Include="System.Composition.Runtime" />
    <LibraryPackage Include="System.Composition.TypedParts" />
    <LibraryPackage Include="System.Data.SqlClient" />
    <LibraryPackage Include="System.Diagnostics.DiagnosticSource" />
    <LibraryPackage Include="System.IO.Compression" />
    <LibraryPackage Include="System.IO.FileSystem.AccessControl" />
    <LibraryPackage Include="System.IO.Packaging" />
    <LibraryPackage Include="System.IO.Pipes.AccessControl" />
    <LibraryPackage Include="System.Net.Http" />
    <LibraryPackage Include="System.Net.Http.Rtc" />
    <LibraryPackage Include="System.Net.Http.WinHttpHandler" />
    <LibraryPackage Include="System.Numerics.Vectors" />
    <LibraryPackage Include="System.Reflection.Context" />
    <LibraryPackage Include="System.Reflection.DispatchProxy" />
    <LibraryPackage Include="System.Reflection.Metadata" />
    <LibraryPackage Include="System.Runtime.CompilerServices.Unsafe" />
    <LibraryPackage Include="System.Runtime.InteropServices.RuntimeInformation" />
    <LibraryPackage Include="System.Runtime.WindowsRuntime" />
    <LibraryPackage Include="System.Runtime.WindowsRuntime.UI.Xaml" />
    <LibraryPackage Include="System.Security.AccessControl" />
    <LibraryPackage Include="System.Security.Cryptography.Cng" />
    <LibraryPackage Include="System.Security.Cryptography.OpenSsl" />
    <LibraryPackage Include="System.Security.Cryptography.Pkcs" />
    <LibraryPackage Include="System.Security.Cryptography.ProtectedData" />
    <LibraryPackage Include="System.Security.Cryptography.X509Certificates" />
    <LibraryPackage Include="System.Security.Principal.Windows" />
    <LibraryPackage Include="System.ServiceProcess.ServiceController" />
    <LibraryPackage Include="System.Text.Encoding.CodePages" />
    <LibraryPackage Include="System.Text.Encodings.Web" />
    <LibraryPackage Include="System.Threading.AccessControl" />
    <LibraryPackage Include="System.Threading.Tasks.Dataflow" />
    <LibraryPackage Include="System.Threading.Tasks.Extensions" />
    <LibraryPackage Include="System.ValueTuple" />
  </ItemGroup>

  <Target Name="GetLatestStablePackages" BeforeTargets="RestorePackages">
     <GetLastStablePackage
        LatestPackages="@(LibraryPackage)"
        PackageIndexes="$(PackageIndexFile)">
        <Output  TaskParameter="LastStablePackages" ItemName="PackageReference" />
    </GetLastStablePackage>
  </Target>

  <!-- only restore this project during the build, don't copy any of it's packages
       The sole purpose of this project is to download packages that can be examined
       for harvesting binaries & support. -->
  <Target Name="Build" DependsOnTargets="RestorePackages" />

</Project>