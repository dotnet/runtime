<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>$(NetCoreAppCurrent);$(NetCoreAppCurrent)-windows</TargetFrameworks>
    <NoVbRuntimeReference>true</NoVbRuntimeReference>
    <VBRuntime>None</VBRuntime>
    <OptionStrict>On</OptionStrict>
    <OptionExplicit>On</OptionExplicit>
    <OptionInfer>Off</OptionInfer>
    <MyType>Empty</MyType>
    <OptionCompare>Binary</OptionCompare>
    <WarningsNotAsErrors>42025</WarningsNotAsErrors>
    <DefineConstants>$(DefineConstants),LATEBINDING=True</DefineConstants>
    <NoWarn>$(NoWarn),CA1052,CA1810,CA1822,CA2200</NoWarn>
    <!-- Avoid unused fields warnings in Unix build -->
    <AssemblyName>Microsoft.VisualBasic.Core</AssemblyName>
    <RemoveIntegerChecks>false</RemoveIntegerChecks>
    <RootNamespace />
  </PropertyGroup>

  <!-- DesignTimeBuild requires all the TargetFramework Derived Properties to not be present in the first property group. -->
  <PropertyGroup>
    <TargetPlatformIdentifier>$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)'))</TargetPlatformIdentifier>
    <ILLinkDescriptorsXml Condition="'$(TargetPlatformIdentifier)' == 'windows'">$(MSBuildProjectDirectory)\ILLink\ILLink.Descriptors.Windows.xml</ILLinkDescriptorsXml>
    <DefineConstants Condition="'$(TargetPlatformIdentifier)' == 'windows'">$(DefineConstants),TARGET_WINDOWS=True</DefineConstants>
    <NoWarn Condition="'$(TargetPlatformIdentifier)' != 'windows'">$(NoWarn);CA1823</NoWarn>
  </PropertyGroup>

  <ItemGroup>
    <Reference Include="Microsoft.Win32.Primitives" />
    <Reference Include="Microsoft.Win32.Registry" />
    <Reference Include="System.Collections" />
    <Reference Include="System.Collections.NonGeneric" />
    <Reference Include="System.Collections.Specialized" />
    <Reference Include="System.ComponentModel.Primitives" />
    <Reference Include="System.Diagnostics.Process" />
    <Reference Include="System.IO.FileSystem.DriveInfo" />
    <Reference Include="System.Linq" />
    <Reference Include="System.Linq.Expressions" />
    <Reference Include="System.ObjectModel" />
    <Reference Include="System.Reflection.Emit.ILGeneration" />
    <Reference Include="System.Reflection.Emit.Lightweight" />
    <Reference Include="System.Reflection.Primitives" />
    <Reference Include="System.Runtime" />
    <Reference Include="System.Runtime.InteropServices" />
    <Reference Include="System.Text.RegularExpressions" />
    <Reference Include="System.Threading" />
    <Reference Include="System.Threading.Thread" />
  </ItemGroup>
</Project>
