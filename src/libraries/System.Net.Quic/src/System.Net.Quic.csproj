<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <WindowsRID>win</WindowsRID>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <TargetFrameworks>$(NetCoreAppCurrent)-Windows_NT;$(NetCoreAppCurrent)-Linux;$(NetCoreAppCurrent)-OSX;$(NetCoreAppCurrent)-FreeBSD;$(NetCoreAppCurrent)-iOS;$(NetCoreAppCurrent)-tvOS;$(NetCoreAppCurrent)-Browser</TargetFrameworks>
    <Nullable>enable</Nullable>
  </PropertyGroup>
  <ItemGroup>
    <Compile Include="$(CommonPath)System\IO\StreamHelpers.CopyValidation.cs"
             Link="Common\System\IO\StreamHelpers.CopyValidation.cs" />
    <Compile Include="$(CommonPath)System\Net\Security\SslClientAuthenticationOptionsExtensions.cs"
             Link="Common\System\Net\Security\SslClientAuthenticationOptionsExtensions.cs" />
    <Compile Include="$(CommonPath)System\IO\DelegatingStream.cs"
             Link="Common\System\IO\DelegatingStream.cs" />
    <Compile Include="$(CommonPath)System\IO\ReadOnlyMemoryStream.cs"
             Link="Common\System\IO\ReadOnlyMemoryStream.cs" />
    <Compile Include="$(CommonPath)System\Text\StringBuilderCache.cs"
             Link="Common\System\Text\StringBuilderCache.cs" />
    <Compile Include="$(CommonPath)System\Net\Logging\NetEventSource.Common.cs"
             Link="Common\System\Net\Logging\NetEventSource.Common.cs" />
    <Compile Include="$(CommonPath)System\Net\HttpDateParser.cs"
             Link="Common\System\Net\HttpDateParser.cs" />
    <Compile Include="$(CommonPath)System\Text\SimpleRegex.cs"
             Link="Common\System\Text\SimpleRegex.cs" />
    <Compile Include="$(CommonPath)System\HexConverter.cs"
             Link="Common\System\HexConverter.cs" />
    <Compile Include="$(CommonPath)System\Net\ArrayBuffer.cs"
             Link="Common\System\Net\ArrayBuffer.cs"/>
  </ItemGroup>
  <!-- SocketsHttpHandler implementation -->
  <ItemGroup Condition="'$(TargetsBrowser)' != 'true'">
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicAddressHelpers.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicAddressHelpers.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicApi.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicApi.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicParameterHelpers.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicParameterHelpers.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicSecurityConfig.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicSecurityConfig.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicSession.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\MsQuicSession.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\QuicExceptionHelpers.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\QuicExceptionHelpers.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\ResettableCompletionSource.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\Internal\ResettableCompletionSource.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\MsQuicConnection.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\MsQuicConnection.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\MsQuicImplementationProvider.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\MsQuicImplementationProvider.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\MsQuicListener.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\MsQuicListener.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\MsQuicStream.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\MsQuic\MsQuicStream.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\QuicImplementationProvider.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\QuicImplementationProvider.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\QuicListenerProvider.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\QuicListenerProvider.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\QuicConnectionProvider.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\QuicConnectionProvider.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\QuicStreamProvider.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\QuicStreamProvider.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\Mock\MockImplementationProvider.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\Mock\MockImplementationProvider.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\Mock\MockListener.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\Mock\MockListener.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\Mock\MockConnection.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\Mock\MockConnection.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Implementations\Mock\MockStream.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Implementations\Mock\MockStream.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Interop\MsQuicStatusCodes.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Interop\MsQuicStatusCodes.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Interop\MsQuicStatusHelper.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Interop\MsQuicStatusHelper.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicClientConnectionOptions.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicClientConnectionOptions.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicImplementationProviders.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicImplementationProviders.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicConnection.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicConnection.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicListener.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicListener.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicListenerOptions.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicListenerOptions.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicOperationAbortedException.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicOperationAbortedException.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicStream.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicStream.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicException.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicException.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicConnectionAbortedException.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicConnectionAbortedException.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\QuicStreamAbortedException.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\QuicStreamAbortedException.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Interop\Interop.MsQuic.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Interop\Interop.MsQuic.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Interop\MsQuicEnums.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Interop\MsQuicEnums.cs" />
    <Compile Include="$(CommonPath)System\Net\Http\aspnetcore\Quic\Interop\MsQuicNativeMethods.cs"
             Link="Common\System\Net\Http\aspnetcore\Quic\Interop\MsQuicNativeMethods.cs" />
    <Compile Include="$(CommonPath)System\Net\SecurityStatusPal.cs"
             Link="Common\System\Net\SecurityStatusPal.cs" />
    <Compile Include="$(CommonPath)System\Net\Security\SSPIHandleCache.cs"
             Link="Common\System\Net\Security\SSPIHandleCache.cs" />
    <Compile Include="$(CommonPath)System\Net\Security\NetEventSource.Security.cs"
             Link="Common\System\Net\Security\NetEventSource.Security.cs" />
    <Compile Include="$(CommonPath)System\Net\ExceptionCheck.cs"
             Link="Common\System\Net\ExceptionCheck.cs" />
    <Compile Include="$(CommonPath)System\Collections\Generic\BidirectionalDictionary.cs"
             Link="Common\System\Collections\Generic\BidirectionalDictionary.cs" />
    <Compile Include="$(CommonPath)System\NotImplemented.cs"
             Link="Common\System\NotImplemented.cs" />
    <Compile Include="$(CommonPath)System\Net\NegotiationInfoClass.cs"
             Link="Common\System\Net\NegotiationInfoClass.cs" />
    <Compile Include="$(CommonPath)System\Net\InternalException.cs"
             Link="Common\System\Net\InternalException.cs" />
    <Compile Include="$(CommonPath)System\Net\DebugSafeHandle.cs"
             Link="Common\System\Net\DebugSafeHandle.cs" />
    <Compile Include="$(CommonPath)System\Net\DebugCriticalHandleMinusOneIsInvalid.cs"
             Link="Common\System\Net\DebugCriticalHandleMinusOneIsInvalid.cs" />
    <Compile Include="$(CommonPath)System\Net\DebugCriticalHandleZeroOrMinusOneIsInvalid.cs"
             Link="Common\System\Net\DebugCriticalHandleZeroOrMinusOneIsInvalid.cs" />
    <Compile Include="$(CommonPath)System\Text\ValueStringBuilder.cs"
             Link="Common\System\Text\ValueStringBuilder.cs" />
    <Compile Include="$(CommonPath)Extensions\ValueStopwatch\ValueStopwatch.cs"
             Link="Common\Extensions\ValueStopwatch\ValueStopwatch.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(TargetsUnix)' == 'true'">
    <ProjectReference Include="$(LibrariesProjectRoot)System.Security.Cryptography.OpenSsl\src\System.Security.Cryptography.OpenSsl.csproj" />
    <Reference Include="System.Console" Condition="'$(Configuration)' == 'Debug'" />
    <Reference Include="System.Diagnostics.StackTrace" />
    <Reference Include="System.IO.FileSystem" />
    <Reference Include="System.Security.Cryptography.Algorithms" />
    <Reference Include="System.Security.Cryptography.Encoding" />
    <Reference Include="System.Security.Cryptography.Primitives" />
  </ItemGroup>
  <ItemGroup Condition=" '$(TargetsBrowser)' == 'true'">
    <ProjectReference Include="$(LibrariesProjectRoot)System.Private.Runtime.InteropServices.JavaScript\src\System.Private.Runtime.InteropServices.JavaScript.csproj" />
  </ItemGroup>
  <ItemGroup>
    <Content Include="msquic.dll" Condition="Exists('msquic.dll')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
    </Content>
    <Content Include="libmsquic.so" Condition="Exists('libmsquic.so')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
    </Content>
    <Content Include="msquic.pdb" Condition="Exists('msquic.pdb')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
    </Content>
  </ItemGroup>
  <ItemGroup>
    <None Include="Resources\SR.resx" />
  </ItemGroup>
</Project>
