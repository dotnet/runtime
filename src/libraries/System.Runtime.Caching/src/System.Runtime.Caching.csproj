<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>$(NetCoreAppCurrent)-windows;$(NetCoreAppCurrent);$(NetCoreAppMinimum)-windows;$(NetCoreAppMinimum);netstandard2.0</TargetFrameworks>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <Nullable>Annotations</Nullable>
    <IsPackable>true</IsPackable>
    <AddNETFrameworkPlaceholderFileToPackage>true</AddNETFrameworkPlaceholderFileToPackage>
    <AddXamarinPlaceholderFilesToPackage>true</AddXamarinPlaceholderFilesToPackage>
    <AddNETFrameworkAssemblyReferenceToPackage>true</AddNETFrameworkAssemblyReferenceToPackage>
    <PackageDescription>Provides classes to use caching facilities.

Commonly Used Types:
System.Runtime.Caching.CacheEntryChangeMonitor
System.Runtime.Caching.CacheEntryRemovedArguments
System.Runtime.Caching.CacheEntryUpdateArguments
System.Runtime.Caching.CacheItem
System.Runtime.Caching.CacheItemPolicy
System.Runtime.Caching.ChangeMonitor
System.Runtime.Caching.FileChangeMonitor
System.Runtime.Caching.HostFileChangeMonitor
System.Runtime.Caching.MemoryCache
System.Runtime.Caching.ObjectCache</PackageDescription>
  </PropertyGroup>

  <ItemGroup Condition="'$(TargetPlatformIdentifier)' != 'windows'">
    <Compile Remove="System\Runtime\Caching\MemoryMonitor.Windows.cs" />
    <Compile Remove="System\Runtime\Caching\PhysicalMemoryMonitor.Windows.cs" />
  </ItemGroup>

  <ItemGroup Condition="'$(TargetPlatformIdentifier)' == 'windows'">
    <Compile Include="$(CommonPath)Interop\Windows\Interop.BOOL.cs"
             Link="Common\Interop\Windows\Interop.BOOL.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Kernel32\Interop.GlobalMemoryStatusEx.cs"
             Link="Common\Interop\Windows\Kernel32\Interop.GlobalMemoryStatusEx.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Kernel32\Interop.MEMORYSTATUSEX.cs"
             Link="Common\Interop\Windows\Kernel32\Interop.MEMORYSTATUSEX.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Interop.Libraries.cs"
             Link="Common\Interop\Windows\Interop.Libraries.cs" />

    <Compile Remove="System\Runtime\Caching\PhysicalMemoryMonitor.Unix.cs" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="$(LibrariesProjectRoot)System.Configuration.ConfigurationManager\src\System.Configuration.ConfigurationManager.csproj" />
  </ItemGroup>
</Project>
