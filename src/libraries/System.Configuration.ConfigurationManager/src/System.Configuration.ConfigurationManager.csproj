<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>$(NetCoreAppCurrent);$(NetCoreAppMinimum);netstandard2.0;$(NetFrameworkMinimum)</TargetFrameworks>
    <!-- opt-out of trimming until it works https://github.com/dotnet/runtime/issues/49062 -->
    <IsTrimmable>false</IsTrimmable>
    <NoWarn>$(NoWarn);CA1847</NoWarn>
    <IsPackable>true</IsPackable>
    <PackageDescription>Provides types that support using configuration files.

Commonly Used Types:
System.Configuration.Configuration
System.Configuration.ConfigurationManager</PackageDescription>
  </PropertyGroup>

  <!-- DesignTimeBuild requires all the TargetFramework Derived Properties to not be present in the first property group. -->
  <PropertyGroup>
    <IsPartialFacadeAssembly Condition="$([MSBuild]::GetTargetFrameworkIdentifier('$(TargetFramework)')) == '.NETFramework'">true</IsPartialFacadeAssembly>
    <EnableDefaultCompileItems Condition="'$(IsPartialFacadeAssembly)' == 'true'">false</EnableDefaultCompileItems>
  </PropertyGroup>

  <ItemGroup Condition="'$(IsPartialFacadeAssembly)' != 'true'">
    <Compile Include="$(CommonPath)System\Security\IdentityHelper.cs"
             Link="Common\System\Security\IdentityHelper.cs" />
    <Compile Include="$(CommonPath)System\IO\TempFileCollection.cs"
             Link="Common\System\IO\TempFileCollection.cs" />
    <Compile Include="$(CommonPath)System\Obsoletions.cs" Link="Common\System\Obsoletions.cs" />
    <Compile Include="$(CoreLibSharedDir)System\Diagnostics\CodeAnalysis\UnconditionalSuppressMessageAttribute.cs"
             Condition="'$(TargetFrameworkIdentifier)' != '.NETCoreApp'" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="$(LibrariesProjectRoot)System.Security.Permissions\src\System.Security.Permissions.csproj" />
  </ItemGroup>

  <ItemGroup Condition="'$(IsPartialFacadeAssembly)' != 'true'">
    <ProjectReference Include="$(LibrariesProjectRoot)System.Security.Cryptography.ProtectedData\src\System.Security.Cryptography.ProtectedData.csproj" />
  </ItemGroup>

  <ItemGroup Condition="'$(TargetFrameworkIdentifier)' == '.NETFramework'">
    <Reference Include="System.Configuration" />
  </ItemGroup>
</Project>
