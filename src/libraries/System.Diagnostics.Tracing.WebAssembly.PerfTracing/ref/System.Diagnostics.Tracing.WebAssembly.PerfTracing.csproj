<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>$(NetCoreAppCurrent)</TargetFramework>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <FeatureWasmPerfTracing>true</FeatureWasmPerfTracing>
    <AssemblyName>System.Diagnostics.Tracing</AssemblyName>
    <!-- tell references.targets to bump the assembly version -->
    <IsExperimentalRefAssembly>true</IsExperimentalRefAssembly>
    <!-- Disable all binplacing since this assembly will clash with the real ref assembly -->
    <EnableBinPlacing>false</EnableBinPlacing>
    <StrongNameKeyId>Microsoft</StrongNameKeyId>
    <IncludePlatformAttributes>true</IncludePlatformAttributes>
    <DefineConstants Condition="'$(FeatureWasmPerfTracing)' == 'true'">$(DefineConstants);FEATURE_WASM_PERFTRACING</DefineConstants>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="..\..\System.Diagnostics.Tracing\ref\System.Diagnostics.Tracing.cs" />
    <Compile Include="..\..\System.Diagnostics.Tracing\ref\System.Diagnostics.Tracing.Counters.cs" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="$(LibrariesProjectRoot)System.Runtime\ref\System.Runtime.csproj" />
  </ItemGroup>

</Project>
