<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>netstandard2.0;$(NetFrameworkMinimum);$(NetCoreAppMinimum);$(NetCoreAppCurrent)</TargetFrameworks>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <UseCompilerGeneratedDocXmlFile>false</UseCompilerGeneratedDocXmlFile>
    <IsPackable>true</IsPackable>
    <PackageDescription>Provides support for some cryptographic primitives for .NET Framework and .NET Standard.

Commonly Used Types:
System.Security.Cryptography.SP800108HmacCounterKdf</PackageDescription>
  </PropertyGroup>

  <!-- DesignTimeBuild requires all the TargetFramework Derived Properties to not be present in the first property group. -->
  <PropertyGroup>
    <IsPartialFacadeAssembly Condition="$([MSBuild]::GetTargetFrameworkIdentifier('$(TargetFramework)')) == '.NETCoreApp'">true</IsPartialFacadeAssembly>
    <IncludePlatformAttributes Condition="$([MSBuild]::GetTargetFrameworkIdentifier('$(TargetFramework)')) != '.NETCoreApp'">true</IncludePlatformAttributes>
    <!-- X509CertificateLoader is new in .NET 9, so build it for .NET 8, .NET Standard, and .NET Framework -->
    <BuildX509Loader>true</BuildX509Loader>
    <BuildX509Loader Condition="$([MSBuild]::IsTargetFrameworkCompatible('$(TargetFramework)', 'net9.0'))">false</BuildX509Loader>
    <OmitResources Condition="'$(IsPartialFacadeAssembly)' == 'true' AND '$(BuildX509Loader)' != 'true'">true</OmitResources>
  </PropertyGroup>
 
  <Import Project="$(CommonPath)System\Security\Cryptography\Asn1\AsnXml.targets" Condition="'$(BuildX509Loader)' == 'true'" />
  <Import Project="$(CommonPath)System\Security\Cryptography\Asn1Reader\System.Security.Cryptography.Asn1Reader.Shared.projitems" Condition="'$(BuildX509Loader)' == 'true'" />

  <ItemGroup Condition="'$(IsPartialFacadeAssembly)' != 'true' OR '$(BuildX509Loader)' == 'true'">
    <Compile Include="$(CommonPath)System\Security\Cryptography\CryptoPool.cs"
             Link="Common\System\Security\Cryptography\CryptoPool.cs" />
  </ItemGroup>

  <ItemGroup Condition="'$(IsPartialFacadeAssembly)' != 'true'">
    <Compile Include="$(CommonPath)Microsoft\Win32\SafeHandles\SafeBCryptAlgorithmHandle.cs"
             Link="Microsoft\Win32\SafeHandles\SafeBCryptAlgorithmHandle.cs" />
    <Compile Include="$(CommonPath)Microsoft\Win32\SafeHandles\SafeBCryptHandle.cs"
             Link="Common\Microsoft\Win32\SafeHandles\SafeBCryptHandle.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.BCryptAlgPseudoHandle.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.BCryptAlgPseudoHandle.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.BCryptCloseAlgorithmProvider.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.BCryptCloseAlgorithmProvider.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Interop.Libraries.cs"
             Link="Common\Interop\Windows\Interop.Libraries.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.CreateCryptographicException.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.CreateCryptographicException.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.NTSTATUS.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.NTSTATUS.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\CryptoThrowHelper.Windows.cs"
             Link="Common\System\Security\Cryptography\CryptoThrowHelper.Windows.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Kernel32\Interop.FormatMessage.cs"
             Link="Common\Internal\Windows\Kernel32\Interop.FormatMessage.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.BCryptOpenAlgorithmProvider.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.BCryptOpenAlgorithmProvider.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.BCryptGenerateSymmetricKey.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.BCryptGenerateSymmetricKey.cs" />
    <Compile Include="$(CommonPath)Microsoft\Win32\SafeHandles\SafeBCryptKeyHandle.cs"
             Link="Microsoft\Win32\SafeHandles\SafeBCryptKeyHandle.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.BCryptDestroyKey.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.BCryptDestroyKey.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.Blobs.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.Blobs.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\BCrypt\Interop.BCryptKeyDerivation.cs"
             Link="Common\Interop\Windows\BCrypt\Interop.BCryptKeyDerivation.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\SP800108HmacCounterKdf.cs"
             Link="Common\System\Security\Cryptography\SP800108HmacCounterKdf.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\SP800108HmacCounterKdfImplementationBase.cs"
             Link="Common\System\Security\Cryptography\SP800108HmacCounterKdfImplementationBase.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\SP800108HmacCounterKdfImplementationCng.cs"
             Link="Common\System\Security\Cryptography\SP800108HmacCounterKdfImplementationCng.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\SP800108HmacCounterKdfImplementationManaged.cs"
             Link="Common\System\Security\Cryptography\SP800108HmacCounterKdfImplementationManaged.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\Utf8DataEncoding.cs"
             Link="Common\System\Security\Cryptography\Utf8DataEncoding.cs" />

    <Compile Include="System\Security\Cryptography\HashAlgorithmNames.cs" />
    <Compile Include="System\Security\Cryptography\NetStandardShims.cs" />
    <Compile Include="System\Security\Cryptography\SP800108HmacCounterKdf.cs" />
    <Compile Include="System\Security\Cryptography\SP800108HmacCounterKdfImplementationCng.cs" />
    <Compile Include="System\Security\Cryptography\SP800108HmacCounterKdfImplementationManaged.cs" />
  </ItemGroup>

  <ItemGroup Condition="'$(BuildX509Loader)' == 'true'">
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\AlgorithmIdentifierAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\AlgorithmIdentifierAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\AlgorithmIdentifierAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\AlgorithmIdentifierAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\AlgorithmIdentifierAsn.xml</DependentUpon>
    </Compile>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\AlgorithmIdentifierAsn.manual.cs">
      <Link>Common\System\Security\Cryptography\Asn1\AlgorithmIdentifierAsn.manual.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\AlgorithmIdentifierAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\AttributeAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\AttributeAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\AttributeAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\AttributeAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\AttributeAsn.xml</DependentUpon>
    </Compile>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\AttributeAsn.manual.cs">
      <Link>Common\System\Security\Cryptography\Asn1\AttributeAsn.manual.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\AttributeAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\DigestInfoAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\DigestInfoAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\DigestInfoAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\DigestInfoAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\DigestInfoAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\EncryptedPrivateKeyInfoAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\EncryptedPrivateKeyInfoAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\EncryptedPrivateKeyInfoAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\EncryptedPrivateKeyInfoAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\EncryptedPrivateKeyInfoAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\PBEParameter.xml">
      <Link>Common\System\Security\Cryptography\Asn1\PBEParameter.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\PBEParameter.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\PBEParameter.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\PBEParameter.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\PBES2Params.xml">
      <Link>Common\System\Security\Cryptography\Asn1\PBES2Params.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\PBES2Params.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\PBES2Params.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\PBES2Params.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pbkdf2Params.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pbkdf2Params.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pbkdf2Params.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pbkdf2Params.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pbkdf2Params.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pbkdf2SaltChoice.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pbkdf2SaltChoice.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pbkdf2SaltChoice.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pbkdf2SaltChoice.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pbkdf2SaltChoice.xml</DependentUpon>
    </Compile>
   <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\PrivateKeyInfoAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\PrivateKeyInfoAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\PrivateKeyInfoAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\PrivateKeyInfoAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\PrivateKeyInfoAsn.xml</DependentUpon>
    </Compile> 
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Rc2CbcParameters.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Rc2CbcParameters.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Rc2CbcParameters.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Rc2CbcParameters.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Rc2CbcParameters.xml</DependentUpon>
    </Compile>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Rc2CbcParameters.manual.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Rc2CbcParameters.manual.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Rc2CbcParameters.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\SubjectPublicKeyInfoAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\SubjectPublicKeyInfoAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\SubjectPublicKeyInfoAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\SubjectPublicKeyInfoAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\SubjectPublicKeyInfoAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\CertBagAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\CertBagAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\CertBagAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\CertBagAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pkcs12\CertBagAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\MacData.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\MacData.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\MacData.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\MacData.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pkcs12\MacData.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\PfxAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\PfxAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\PfxAsn.manual.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\PfxAsn.manual.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pkcs12\PfxAsn.xml</DependentUpon>
    </Compile>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\PfxAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\PfxAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pkcs12\PfxAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\SafeBagAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\SafeBagAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs12\SafeBagAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs12\SafeBagAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pkcs12\SafeBagAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs7\ContentInfoAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs7\ContentInfoAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs7\ContentInfoAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs7\ContentInfoAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pkcs7\ContentInfoAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs7\EncryptedContentInfoAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs7\EncryptedContentInfoAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs7\EncryptedContentInfoAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs7\EncryptedContentInfoAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pkcs7\EncryptedContentInfoAsn.xml</DependentUpon>
    </Compile>
    <AsnXml Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs7\EncryptedDataAsn.xml">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs7\EncryptedDataAsn.xml</Link>
    </AsnXml>
    <Compile Include="$(CommonPath)System\Security\Cryptography\Asn1\Pkcs7\EncryptedDataAsn.xml.cs">
      <Link>Common\System\Security\Cryptography\Asn1\Pkcs7\EncryptedDataAsn.xml.cs</Link>
      <DependentUpon>Common\System\Security\Cryptography\Asn1\Pkcs7\EncryptedDataAsn.xml</DependentUpon>
    </Compile>
    <Compile Include="$(CommonPath)System\IO\MemoryMappedFiles\MemoryMappedFileMemoryManager.cs"
             Link="Common\System\IO\MemoryMappedFiles\MemoryMappedFileMemoryManager.cs" />
    <Compile Include="$(CommonPath)System\Memory\PointerMemoryManager.cs"
             Link="Common\System\Memory\PointerMemoryManager.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\Helpers.cs"
             Link="Common\System\Security\Cryptography\Helpers.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\KeyFormatHelper.cs"
             Link="Common\System\Security\Cryptography\KeyFormatHelper.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\KeyFormatHelper.Encrypted.cs"
             Link="Common\System\Security\Cryptography\KeyFormatHelper.Encrypted.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\Oids.cs"
             Link="Common\System\Security\Cryptography\Oids.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\PasswordBasedEncryption.cs"
             Link="Common\System\Security\Cryptography\PasswordBasedEncryption.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\Pkcs12Kdf.cs"
             Link="Common\System\Security\Cryptography\Pkcs12Kdf.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\X509Certificates\Pkcs12LoaderLimits.cs"
             Link="Common\System\Security\Cryptography\X509Certificates\Pkcs12LoaderLimits.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\X509Certificates\Pkcs12LoadLimitExceededException.cs"
             Link="Common\System\Security\Cryptography\X509Certificates\Pkcs12LoadLimitExceededException.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\X509Certificates\X509CertificateLoader.cs"
             Link="Common\System\Security\Cryptography\X509Certificates\X509CertificateLoader.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\X509Certificates\X509CertificateLoader.Pkcs12.cs"
             Link="Common\System\Security\Cryptography\X509Certificates\X509CertificateLoader.Pkcs12.cs" />
    <Compile Include="System\Security\Cryptography\Helpers.cs" />
  </ItemGroup>

  <ItemGroup Condition="'$(BuildX509Loader)' == 'true' AND '$(TargetFrameworkIdentifier)' == '.NETFramework'">
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.CertCloseStore.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.CertCloseStore.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.CertFreeCertificateContext.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.CertFreeCertificateContext.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.CertQueryObjectType.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.CertQueryObjectType.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.ContentType.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.ContentType.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.CryptQueryObject_IntPtr_out.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.CryptQueryObject_IntPtr_out.cs" /> 
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.DATA_BLOB.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.DATA_BLOB.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.ExpectedContentTypeFlags.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.ExpectedContentTypeFlags.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.ExpectedFormatTypeFlags.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.ExpectedFormatTypeFlags.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.FormatType.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.FormatType.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.PfxCertStoreFlags.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.PfxCertStoreFlags.cs" />
    <Compile Include="$(CommonPath)Interop\Windows\Crypt32\Interop.PFXImportCertStore.cs"
             Link="Common\Interop\Windows\Crypt32\Interop.PFXImportCertStore.cs" />
    <Compile Include="$(CommonPath)Microsoft\Win32\SafeHandles\SafeCertStoreHandle.cs"
             Link="Common\Microsoft\Win32\SafeHandles\SafeCertStoreHandle.cs" />
    <Compile Include="$(CommonPath)Microsoft\Win32\SafeHandles\SafeCrypt32Handle.cs"
             Link="Common\Microsoft\Win32\SafeHandles\SafeCrypt32Handle.cs" />
    <Compile Include="$(CommonPath)Microsoft\Win32\SafeHandles\SafeHandleCache.cs"
             Link="Common\Microsoft\Win32\SafeHandles\SafeHandleCache.cs" />
    <Compile Include="$(CommonPath)System\Security\Cryptography\IncrementalHash.netfx.cs"
             Link="Common\System\Security\Cryptography\IncrementalHash.netfx.cs" />
    <Compile Include="Microsoft\Win32\SafeHandles\SafePasswordHandle.cs" />
    <Compile Include="System\Security\Cryptography\PbeEncryptionAlgorithm.netstandard.cs" />
    <Compile Include="System\Security\Cryptography\PbeParameters.netstandard.cs" />
    <Compile Include="System\Security\Cryptography\X509Certificates\X509CertificateLoader.netfx.cs" />
    <Compile Include="System\Security\Cryptography\X509Certificates\X509CertificateLoader.ProcessedPkcs12.cs" />
  </ItemGroup>

  <ItemGroup Condition="'$(BuildX509Loader)' == 'true' AND '$(TargetFrameworkIdentifier)' != '.NETFramework'">
    <Compile Include="System\Security\Cryptography\PbeEncryptionAlgorithm.netstandard.cs" />
    <Compile Include="System\Security\Cryptography\PbeParameters.netstandard.cs" />
    <Compile Include="System\Security\Cryptography\X509Certificates\X509CertificateLoader.netstandard.cs" />
    <Compile Include="System\Security\Cryptography\X509Certificates\X509CertificateLoader.ProcessedPkcs12.cs" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="$(LibrariesProjectRoot)System.Formats.Asn1\src\System.Formats.Asn1.csproj" />
  </ItemGroup>
  <ItemGroup Condition="'$(TargetFrameworkIdentifier)' != '.NETCoreApp'">
    <PackageReference Include="System.Memory" Version="$(SystemMemoryVersion)" />
    <PackageReference Include="System.Runtime.CompilerServices.Unsafe" Version="$(SystemRuntimeCompilerServicesUnsafeVersion)" />
  </ItemGroup>

</Project>
