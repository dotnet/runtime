// Licensed to the .NET Foundation under one or more agreements.
// The .NET Foundation licenses this file to you under the MIT license.

namespace System.IO.Hashing
{
    public sealed partial class Crc64 : NonCryptographicHashAlgorithm
    {
        // Pre-computed CRC-64 transition table.
        private static ReadOnlySpan<ulong> CrcLookup => new ulong[]
        {
            0x0ul,
            0xA9EA3693ul,
            0x53D46D26ul,
            0xFA3E5BB5ul,
            0xE42ECDFul,
            0xA7A8DA4Cul,
            0x5D9681F9ul,
            0xF47CB76Aul,
            0x1C85D9BEul,
            0xB56FEF2Dul,
            0x4F51B498ul,
            0xE6BB820Bul,
            0x12C73561ul,
            0xBB2D03F2ul,
            0x41135847ul,
            0xE8F96ED4ul,
            0x90E185EFul,
            0x390BB37Cul,
            0xC335E8C9ul,
            0x6ADFDE5Aul,
            0x9EA36930ul,
            0x37495FA3ul,
            0xCD770416ul,
            0x649D3285ul,
            0x8C645C51ul,
            0x258E6AC2ul,
            0xDFB03177ul,
            0x765A07E4ul,
            0x8226B08Eul,
            0x2BCC861Dul,
            0xD1F2DDA8ul,
            0x7818EB3Bul,
            0x21C30BDEul,
            0x88293D4Dul,
            0x721766F8ul,
            0xDBFD506Bul,
            0x2F81E701ul,
            0x866BD192ul,
            0x7C558A27ul,
            0xD5BFBCB4ul,
            0x3D46D260ul,
            0x94ACE4F3ul,
            0x6E92BF46ul,
            0xC77889D5ul,
            0x33043EBFul,
            0x9AEE082Cul,
            0x60D05399ul,
            0xC93A650Aul,
            0xB1228E31ul,
            0x18C8B8A2ul,
            0xE2F6E317ul,
            0x4B1CD584ul,
            0xBF6062EEul,
            0x168A547Dul,
            0xECB40FC8ul,
            0x455E395Bul,
            0xADA7578Ful,
            0x44D611Cul,
            0xFE733AA9ul,
            0x57990C3Aul,
            0xA3E5BB50ul,
            0xA0F8DC3ul,
            0xF031D676ul,
            0x59DBE0E5ul,
            0xEA6C212Ful,
            0x438617BCul,
            0xB9B84C09ul,
            0x10527A9Aul,
            0xE42ECDF0ul,
            0x4DC4FB63ul,
            0xB7FAA0D6ul,
            0x1E109645ul,
            0xF6E9F891ul,
            0x5F03CE02ul,
            0xA53D95B7ul,
            0xCD7A324ul,
            0xF8AB144Eul,
            0x514122DDul,
            0xAB7F7968ul,
            0x2954FFBul,
            0x7A8DA4C0ul,
            0xD3679253ul,
            0x2959C9E6ul,
            0x80B3FF75ul,
            0x74CF481Ful,
            0xDD257E8Cul,
            0x271B2539ul,
            0x8EF113AAul,
            0x66087D7Eul,
            0xCFE24BEDul,
            0x35DC1058ul,
            0x9C3626CBul,
            0x684A91A1ul,
            0xC1A0A732ul,
            0x3B9EFC87ul,
            0x9274CA14ul,
            0xCBAF2AF1ul,
            0x62451C62ul,
            0x987B47D7ul,
            0x31917144ul,
            0xC5EDC62Eul,
            0x6C07F0BDul,
            0x9639AB08ul,
            0x3FD39D9Bul,
            0xD72AF34Ful,
            0x7EC0C5DCul,
            0x84FE9E69ul,
            0x2D14A8FAul,
            0xD9681F90ul,
            0x70822903ul,
            0x8ABC72B6ul,
            0x23564425ul,
            0x5B4EAF1Eul,
            0xF2A4998Dul,
            0x89AC238ul,
            0xA170F4ABul,
            0x550C43C1ul,
            0xFCE67552ul,
            0x6D82EE7ul,
            0xAF321874ul,
            0x47CB76A0ul,
            0xEE214033ul,
            0x141F1B86ul,
            0xBDF52D15ul,
            0x49899A7Ful,
            0xE063ACECul,
            0x1A5DF759ul,
            0xB3B7C1CAul,
            0x7D3274CDul,
            0xD4D8425Eul,
            0x2EE619EBul,
            0x870C2F78ul,
            0x73709812ul,
            0xDA9AAE81ul,
            0x20A4F534ul,
            0x894EC3A7ul,
            0x61B7AD73ul,
            0xC85D9BE0ul,
            0x3263C055ul,
            0x9B89F6C6ul,
            0x6FF541ACul,
            0xC61F773Ful,
            0x3C212C8Aul,
            0x95CB1A19ul,
            0xEDD3F122ul,
            0x4439C7B1ul,
            0xBE079C04ul,
            0x17EDAA97ul,
            0xE3911DFDul,
            0x4A7B2B6Eul,
            0xB04570DBul,
            0x19AF4648ul,
            0xF156289Cul,
            0x58BC1E0Ful,
            0xA28245BAul,
            0xB687329ul,
            0xFF14C443ul,
            0x56FEF2D0ul,
            0xACC0A965ul,
            0x52A9FF6ul,
            0x5CF17F13ul,
            0xF51B4980ul,
            0xF251235ul,
            0xA6CF24A6ul,
            0x52B393CCul,
            0xFB59A55Ful,
            0x167FEEAul,
            0xA88DC879ul,
            0x4074A6ADul,
            0xE99E903Eul,
            0x13A0CB8Bul,
            0xBA4AFD18ul,
            0x4E364A72ul,
            0xE7DC7CE1ul,
            0x1DE22754ul,
            0xB40811C7ul,
            0xCC10FAFCul,
            0x65FACC6Ful,
            0x9FC497DAul,
            0x362EA149ul,
            0xC2521623ul,
            0x6BB820B0ul,
            0x91867B05ul,
            0x386C4D96ul,
            0xD0952342ul,
            0x797F15D1ul,
            0x83414E64ul,
            0x2AAB78F7ul,
            0xDED7CF9Dul,
            0x773DF90Eul,
            0x8D03A2BBul,
            0x24E99428ul,
            0x975E55E2ul,
            0x3EB46371ul,
            0xC48A38C4ul,
            0x6D600E57ul,
            0x991CB93Dul,
            0x30F68FAEul,
            0xCAC8D41Bul,
            0x6322E288ul,
            0x8BDB8C5Cul,
            0x2231BACFul,
            0xD80FE17Aul,
            0x71E5D7E9ul,
            0x85996083ul,
            0x2C735610ul,
            0xD64D0DA5ul,
            0x7FA73B36ul,
            0x7BFD00Dul,
            0xAE55E69Eul,
            0x546BBD2Bul,
            0xFD818BB8ul,
            0x9FD3CD2ul,
            0xA0170A41ul,
            0x5A2951F4ul,
            0xF3C36767ul,
            0x1B3A09B3ul,
            0xB2D03F20ul,
            0x48EE6495ul,
            0xE1045206ul,
            0x1578E56Cul,
            0xBC92D3FFul,
            0x46AC884Aul,
            0xEF46BED9ul,
            0xB69D5E3Cul,
            0x1F7768AFul,
            0xE549331Aul,
            0x4CA30589ul,
            0xB8DFB2E3ul,
            0x11358470ul,
            0xEB0BDFC5ul,
            0x42E1E956ul,
            0xAA188782ul,
            0x3F2B111ul,
            0xF9CCEAA4ul,
            0x5026DC37ul,
            0xA45A6B5Dul,
            0xDB05DCEul,
            0xF78E067Bul,
            0x5E6430E8ul,
            0x267CDBD3ul,
            0x8F96ED40ul,
            0x75A8B6F5ul,
            0xDC428066ul,
            0x283E370Cul,
            0x81D4019Ful,
            0x7BEA5A2Aul,
            0xD2006CB9ul,
            0x3AF9026Dul,
            0x931334FEul,
            0x692D6F4Bul,
            0xC0C759D8ul,
            0x34BBEEB2ul,
            0x9D51D821ul,
            0x676F8394ul,
            0xCE85B507ul,
        };

        //GenerateTable(0x42F0E1EBA9EA3693);
        //private static ulong[] GenerateTable(ulong polynomial)
        //{
        //    ulong[] table = new ulong[256];
        //
        //    for (int i = 0; i < 256; i++)
        //    {
        //        ulong val = (ulong)i << 56;
        //
        //        for (int j = 0; j < 8; j++)
        //        {
        //            if ((val & 0x8000_0000_0000_0000) == 0)
        //            {
        //                val <<= 1;
        //            }
        //            else
        //            {
        //                val = (val << 1) ^ polynomial;
        //            }
        //        }
        //
        //        table[i] = val;
        //    }
        //
        //    return table;
        //}
    }
}
