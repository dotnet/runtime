<?xml version="1.0" encoding="utf-8"?>
<Project>

  <Import Project="$([MSBuild]::GetPathOfFileAbove(Directory.Build.targets, $(MSBuildThisFileDirectory)..))" />

  <!-- Hack to get NativeAOT assemblies into IlcReference
       In CoreCLR tests, these assemblies get copied to CORE_ROOT, which NativeAOT doesn't use
  -->
  <Import Project="$(RepoRoot)eng/liveBuilds.targets" Condition="'$(TestBuildMode)' == 'nativeaot'" />
  <!-- Get all the *.dll files that has IsNative != "true"-->
  <Target Name="GetRequiredNativeAOTAssemblies" 
      DependsOnTargets="ResolveLibrariesRuntimeFilesFromLocalBuild"
      BeforeTargets="ComputeIlcCompileInputs"
      Condition="'$(TestBuildMode)' == 'nativeaot'">
    <ItemGroup>
      <IlcReference Include="@(LibrariesRuntimeFiles)" Condition="'%(Extension)' == '.dll' and '%(LibrariesRuntimeFiles.IsNative)' != 'true'"/>
    </ItemGroup>
  </Target>

</Project>