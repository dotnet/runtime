<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!--
    Overrides for all other targets (including build tools) can go in this file.
  -->

  <!-- Override the AddDesignTimeFacadeReferences target to add the ability to reference System.Private.CoreLib.
       Some tests use functionality not available in the portable reference assemblies.
       For portability reasons it's generally a good idea to reference the facades instead of the
       raw implementation assemblies.  However, these tests are useful. -->
  <Target Name="AddDesignTimeFacadeReferences"
      Condition="'$(ReferenceSystemPrivateCoreLib)' == 'true'"
      BeforeTargets="ResolveReferences"
      DependsOnTargets="GetReferenceAssemblyPaths"
  >

    <ItemGroup>
      <ReferencePath Include="$(ProjectDir)\..\bin\Product\$(BuildOS).$(BuildArch).$(BuildType)\System.Private.CoreLib.dll" />
    </ItemGroup>
  </Target>

  <PropertyGroup Condition="'$(TargetFrameworkIdentifier)' == '.NETFramework'">
    <!--
      Allow this project to setup the default target frameworks. Note this depends on the targeting packs that VS
      installs to resolve mscorlib and System. That should be fixed in the future.
      -->
    <_TargetFrameworkDirectories></_TargetFrameworkDirectories>
    <_FullFrameworkReferenceAssemblyPaths></_FullFrameworkReferenceAssemblyPaths>
  </PropertyGroup>
</Project>
