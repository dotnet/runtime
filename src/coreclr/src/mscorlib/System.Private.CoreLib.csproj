<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="12.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <!-- Always use latest Roslyn compiler -->
  <Import Project="..\..\Tools\net46\roslyn\build\Microsoft.Net.Compilers.props" Condition="'$(OS)'=='Windows_NT'" />
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <!-- Include common build properties -->
  <Import Project="..\..\dir.props" />
  <!-- Compilation options -->
  <PropertyGroup>
    <AvailablePlatforms>amd64,x86,arm,armel,arm64</AvailablePlatforms>
    <Configuration Condition=" '$(Configuration)' == '' ">$(BuildType)</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">$(BuildArch)</Platform>
    <!-- The CLR properties use amd64 as their platform string, we want to keep in sync with those, so set Platform appropriately,
         though still use the 'x64' output path (see use of BuildArch below) -->
    <Platform Condition=" '$(Platform)' == 'x64' ">amd64</Platform>
    <Platform Condition=" '$(Platform)' == 'armel' ">arm</Platform>
    <ProjectGuid>{3DA06C3A-2E7B-4CB7-80ED-9B12916013F9}</ProjectGuid>
    <OutputType>Library</OutputType>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <!-- This prevents the default MsBuild targets from referencing System.Core.dll -->
    <AddAdditionalExplicitAssemblyReferences>false</AddAdditionalExplicitAssemblyReferences>
    <!-- These prevent the default MsBuild targets from referencing System.dll and mscorlib.dll -->
    <NoStdLib>true</NoStdLib>
    <NoCompilerStandardLib>true</NoCompilerStandardLib>
    <SubsystemVersion>6.00</SubsystemVersion>
    <UTF8OutPut>true</UTF8OutPut>
    <HighEntropyVA>true</HighEntropyVA>
    <ErrorReport>prompt</ErrorReport>
    <CLSCompliant>true</CLSCompliant>
    <WarningLevel>4</WarningLevel>
    <TreatWarningsAsErrors>false</TreatWarningsAsErrors>
    <WarningsNotAsErrors>$(WarningsNotAsErrors);618</WarningsNotAsErrors>
    <NoWarn>649,3019,414,169,3015</NoWarn>
    <GenerateTargetFrameworkAttribute>false</GenerateTargetFrameworkAttribute>
    <SignAssembly>true</SignAssembly>
    <DelaySign>true</DelaySign>
    <DefineConstants>$(DefineConstants);CORECLR;_USE_NLS_PLUS_TABLE;RESOURCE_SATELLITE_CONFIG;CODE_ANALYSIS_BASELINE</DefineConstants>
    <!-- We don't use any of MSBuild's resolution logic for resolving the framework, so just set these two properties to any folder that exists to skip
         the GenerateReferenceAssemblyPaths task (not target) and to prevent it from outputting a warning (MSB3644). -->
    <_TargetFrameworkDirectories>$(MSBuildThisFileDirectory)/Documentation</_TargetFrameworkDirectories>
    <_FullFrameworkReferenceAssemblyPaths>$(MSBuildThisFileDirectory)/Documentation</_FullFrameworkReferenceAssemblyPaths>
    <SkipCommonResourcesIncludes>true</SkipCommonResourcesIncludes>
  </PropertyGroup>
  <!-- Add Serviceable attribute to the project's metadata -->
  <ItemGroup>
    <AssemblyMetadata Include="Serviceable">
      <Value>True</Value>
    </AssemblyMetadata>
  </ItemGroup>
  <!-- Platform specific properties -->
  <PropertyGroup Condition="'$(Platform)' == 'amd64'">
    <PlatformTarget>x64</PlatformTarget>
    <Prefer32Bit>false</Prefer32Bit>
    <BaseAddress>0x180000000</BaseAddress>
    <DefineConstants>BIT64;AMD64;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Platform)' == 'x86'">
    <PlatformTarget>x86</PlatformTarget>
    <BaseAddress>0x10000000</BaseAddress>
    <DefineConstants>BIT32;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Platform)' == 'arm'">
    <PlatformTarget>arm</PlatformTarget>
    <DefineConstants>BIT32;ARM;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Platform)' == 'arm64'">
    <PlatformTarget>AnyCPU</PlatformTarget>
    <DefineConstants>BIT64;ARM64;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
  <!-- Configuration specific properties -->
  <PropertyGroup Condition="'$(Configuration)' == 'Debug' or '$(Configuration)' == 'Checked'">
    <DebugSymbols>true</DebugSymbols>
    <Optimize Condition="'$(Optimize)' == '' and '$(Configuration)' == 'Debug'">false</Optimize>
    <Optimize Condition="'$(Optimize)' == '' and '$(Configuration)' == 'Checked'">true</Optimize>
    <DebugType>full</DebugType>
    <DefineConstants>DBG;_DEBUG;_LOGGING;DEBUG;TRACE;$(DefineConstants)</DefineConstants>
    <DefineConstants Condition="'$(Platform)' == 'x86' or '$(Platform)' == 'amd64'">CODE_ANALYSIS;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition="'$(Configuration)' == 'Release'">
    <DebugSymbols>true</DebugSymbols>
    <Optimize Condition="'$(Optimize)' == ''">true</Optimize>
    <DebugType>pdbOnly</DebugType>
    <DefineConstants>TRACE;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
  <!-- Make portable PDBs on Unix -->
  <PropertyGroup Condition="'$(OsEnvironment)' == 'Unix'">
    <DebugType>portable</DebugType>
  </PropertyGroup>

  <PropertyGroup Condition="'$(TargetsOSX)' == 'true'">
    <DefineConstants>PLATFORM_OSX;$(DefineConstants)</DefineConstants>
  </PropertyGroup>

  <!-- Assembly attributes -->
  <PropertyGroup>
    <AssemblyName>System.Private.CoreLib</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <MajorVersion>4</MajorVersion>
    <MinorVersion>6</MinorVersion>
    <ExcludeAssemblyInfoPartialFile>true</ExcludeAssemblyInfoPartialFile>
  </PropertyGroup>
  <ItemGroup>
    <AssemblyInfoLines Include="[assembly: System.Resources.SatelliteContractVersion(&quot;$(AssemblyVersion)&quot;)]" />
    <AssemblyInfoLines Include="[assembly: System.Security.AllowPartiallyTrustedCallers]" />
    <AssemblyInfoLines Include="[assembly: System.Runtime.InteropServices.ComVisible(false)]" />
    <AssemblyInfoLines Include="[assembly: System.Resources.NeutralResourcesLanguage(&quot;en-US&quot;)]" />
    <AssemblyInfoLines Include="[assembly: System.Runtime.InteropServices.DefaultDllImportSearchPathsAttribute(System.Runtime.InteropServices.DllImportSearchPath.AssemblyDirectory | System.Runtime.InteropServices.DllImportSearchPath.System32)]" />
  </ItemGroup>
  <!--
    Helper Paths
  -->
  <PropertyGroup>
    <CommonPath>$(MSBuildThisFileDirectory)Common</CommonPath>
    <BclSourcesRoot>$(MSBuildThisFileDirectory)src</BclSourcesRoot>
    <MscorlibDir>$(MSBuildThisFileDirectory)</MscorlibDir>
    <NlpObjDir>$(BclSourcesRoot)\System\Globalization\Tables</NlpObjDir>
  </PropertyGroup>
  <!-- Msbuild variables needed to get CoreCLR features to be set properly. -->
  <PropertyGroup>
    <ClrProduct>core_clr</ClrProduct>
    <BuildForCoreSystem>true</BuildForCoreSystem>
    <!-- These are needed to make sure we have the right set of defines -->
    <TargetArch Condition="'$(Platform)'=='x86'">i386</TargetArch>
    <TargetArch Condition="'$(Platform)'!='x86'">$(Platform)</TargetArch>
  </PropertyGroup>
  <!-- CLR Features -->
  <Import Project="$(MSBuildThisFileDirectory)..\..\clr.coreclr.props" />
  <Import Project="$(MSBuildThisFileDirectory)..\..\clr.defines.targets" />
  <!-- Sources -->
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\RuntimeHelpers.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\CustomConstantAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\DateTimeConstantAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\DecimalConstantAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\FriendAccessAllowedAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\MethodImplAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\TypeDependencyAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\jithelpers.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\Unsafe.cs" />
    <Compile Condition="'$(FeatureICastable)' == 'true'" Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\ICastable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\RuntimeWrappedException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\ConditionalWeakTable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\AsyncMethodBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\TaskAwaiter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\CompilerServices\YieldAwaitable.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\Reliability\CriticalFinalizerObject.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\Reliability\PrePrepareMethodAttribute.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\MemoryFailPoint.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\GcSettings.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Collections\Comparer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\CompatibleComparer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\ListDictionaryInternal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\EmptyReadOnlyDictionaryInternal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Hashtable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\IHashCodeProvider.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ArrayWithOffset.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\Attributes.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\COMException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\CriticalHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\GcHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\GCHandleCookieTable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\HandleRef.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ICustomMarshaler.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\InvalidOleVariantTypeException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\Marshal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\MarshalDirectiveException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\PInvokeMap.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\PInvokeMarshal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\RuntimeEnvironment.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\SEHException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\SafeBuffer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\SafeHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\BStrWrapper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\CurrencyWrapper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ErrorWrapper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\UnknownWrapper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\VariantWrapper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComMemberType.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ICustomAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ICustomQueryInterface.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\InvalidComObjectException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\SafeArrayRankMismatchException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\SafeArrayTypeMismatchException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\NativeCallableAttribute.cs" />
    <Compile Condition="'$(FeatureCominterop)' != 'true'" Include="$(BclSourcesRoot)\System\Runtime\InteropServices\NonPortable.cs" />
    <Compile Condition="'$(FeatureCominterop)' == 'true'" Include="$(BclSourcesRoot)\System\Runtime\InteropServices\DispatchWrapper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ICustomFactory.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(FeatureClassicCominterop)' == 'true'">
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ITypeLibConverter.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\Expando\IExpando.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(FeatureClassicCominterop)' == 'true'">
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComEventsHelper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComEventsInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComEventsMethod.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComEventsSink.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\NativeMethods.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IBindCtx.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IConnectionPointContainer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IConnectionPoint.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IEnumMoniker.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IEnumConnections.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IEnumConnectionPoints.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IEnumString.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IEnumVARIANT.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IMoniker.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IPersistFile.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IRunningObjectTable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\IStream.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\ITypeComp.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\ITypeInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\ITypeLib.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\ITypeLib2.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\ComTypes\ITypeInfo2.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(FeatureCominterop)' == 'true'">
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\Attributes.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\ConstantSplittableMap.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\DictionaryKeyCollection.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\DictionaryValueCollection.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\EnumeratorToIteratorAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\VectorToListAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\VectorToCollectionAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\VectorViewToReadOnlyCollectionAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\MapToDictionaryAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\MapToCollectionAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\MapViewToReadOnlyCollectionAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\ListToVectorAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\DictionaryToMapAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\BindableVectorToListAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\BindableVectorToCollectionAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\ListToBindableVectorAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\ListToBindableVectorViewAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\EventRegistrationToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\EventRegistrationTokenTable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IActivationFactory.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IRestrictedErrorInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IMapViewToIReadOnlyDictionaryAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IVectorViewToIReadOnlyListAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IReadOnlyDictionaryToIMapViewAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IReadOnlyListToIVectorViewAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IteratorToEnumeratorAdapter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\ManagedActivationFactory.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\NativeMethods.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\PropertyValue.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\WindowsRuntimeMarshal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\WindowsRuntimeMetadata.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IClosable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\RuntimeClass.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(FeatureCominterop)' == 'true'">
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\CLRIPropertyValueImpl.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\CLRIReferenceImpl.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IPropertyValue.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IReference.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\WindowsFoundationEventHandler.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\ICustomPropertyProvider.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\ICustomProperty.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\CustomPropertyImpl.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\WindowsRuntimeBufferHelper.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(FeatureCominterop)' == 'true'">
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IIterable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IIterator.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IVector.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\IMap.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\InteropServices\WindowsRuntime\CLRIKeyValuePairImpl.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\AggregateException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppContext\AppContext.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppContext\AppContextSwitches.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppContext\AppContextDefaultValues.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppContext\AppContextDefaultValues.CoreClrOverrides.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppContext\AppContextDefaultValues.Defaults.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppContext\AppContextDefaultValues.Defaults.Central.cs" />
    <Compile Include="$(BclSourcesRoot)\System\CurrentSystemTimeZone.Cache.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Object.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Array.cs" />
    <Compile Include="$(BclSourcesRoot)\System\ArraySegment.cs" />
    <Compile Include="$(BclSourcesRoot)\System\ThrowHelper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Tuple.cs" />
    <Compile Include="$(BclSourcesRoot)\System\String.cs" />
    <Compile Include="$(BclSourcesRoot)\System\String.Comparison.cs" />
    <Compile Include="$(BclSourcesRoot)\System\String.Manipulation.cs" />
    <Compile Include="$(BclSourcesRoot)\System\String.Searching.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\StringBuilder.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\StringBuilderCache.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Exception.cs" />
    <Compile Include="$(BclSourcesRoot)\System\DateTime.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\OutOfMemoryException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Delegate.cs" />
    <Compile Include="$(BclSourcesRoot)\System\MulticastDelegate.cs" />
    <Compile Include="$(BclSourcesRoot)\System\__HResults.cs" />
    <Compile Include="$(BclSourcesRoot)\System\HResults.cs" />
    <Compile Include="$(BclSourcesRoot)\System\BCLDebug.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Activator.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AccessViolationException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppDomain.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppDomainSetup.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppDomainManager.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IAppDomainPauseManager.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppDomainAttributes.cs" />
    <Compile Include="$(BclSourcesRoot)\System\AppDomainUnloadedException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\ArgIterator.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Attribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\BitConverter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Boolean.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Buffer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Byte.cs" />
    <Compile Include="$(BclSourcesRoot)\System\CompatibilitySwitches.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Currency.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Decimal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\DefaultBinder.CanConvert.cs" />
    <Compile Include="$(BclSourcesRoot)\System\DelegateSerializationHolder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Double.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Empty.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Enum.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Environment.cs" />
    <Compile Include="$(BclSourcesRoot)\System\GC.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Guid.cs" />
    <Compile Include="$(BclSourcesRoot)\System\InsufficientMemoryException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Int16.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Int32.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Int64.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IntPtr.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Internal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Math.cs" />
    <Compile Include="$(BclSourcesRoot)\System\MathF.cs" />
    <Compile Include="$(BclSourcesRoot)\System\mda.cs" />
    <Compile Include="$(BclSourcesRoot)\System\MissingFieldException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\MissingMemberException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\NonSerializedAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Number.cs" />
    <Compile Include="$(BclSourcesRoot)\System\ParseNumbers.cs" />
    <Compile Include="$(BclSourcesRoot)\System\ResId.cs" />
    <Compile Include="$(BclSourcesRoot)\System\RtType.cs" />
    <Compile Include="$(BclSourcesRoot)\System\RuntimeArgumentHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\System\RuntimeHandles.cs" />
    <Compile Include="$(BclSourcesRoot)\System\SByte.cs" />
    <Compile Include="$(BclSourcesRoot)\System\SerializableAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\SharedStatics.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Single.cs" />
    <Compile Include="$(BclSourcesRoot)\System\StubHelpers.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TimeSpan.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TimeZoneInfo.AdjustmentRule.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TimeZoneInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TimeZoneInfo.StringSerializer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TimeZoneInfo.TransitionTime.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Type.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TypeNameParser.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TypedReference.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TypeLoadException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\UInt16.cs" />
    <Compile Include="$(BclSourcesRoot)\System\UInt32.cs" />
    <Compile Include="$(BclSourcesRoot)\System\UInt64.cs" />
    <Compile Include="$(BclSourcesRoot)\System\UIntPtr.cs" />
    <Compile Include="$(BclSourcesRoot)\System\ValueType.cs" />
    <Compile Include="$(BclSourcesRoot)\System\WeakReference.cs" />
    <Compile Include="$(BclSourcesRoot)\System\WeakReferenceOfT.cs" />
    <Compile Include="$(BclSourcesRoot)\System\CLRConfig.cs" />
    <Compile Condition="'$(FeatureCominterop)' == 'true'" Include="$(BclSourcesRoot)\System\__ComObject.cs" />
    <Compile Condition="'$(FeatureCominterop)' == 'true'" Include="$(BclSourcesRoot)\System\Variant.cs" />
    <Compile Condition="'$(FeatureClassicCominterop)' == 'true'" Include="$(BclSourcesRoot)\System\OleAutBinder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\ByReference.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\Internal\Runtime\Augments\EnvironmentAugments.cs" />
    <Compile Include="$(BclSourcesRoot)\Internal\Runtime\Augments\RuntimeThread.cs" />
    <Compile Include="$(BclSourcesRoot)\Internal\Console.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Assembly.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\AssemblyName.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Associates.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\CustomAttributeExtensions.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\ConstructorInfo.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\CustomAttribute.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\ExceptionHandlingClause.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\FieldInfo.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\INVOCATION_FLAGS.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\LoaderAllocator.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\LocalVariableInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\MdConstant.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\MdFieldInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\MdImport.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\MemberInfo.Internal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\MemberSerializationStringGenerator.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\MethodBase.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\MethodBody.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RtFieldInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RuntimeAssembly.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RuntimeConstructorInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RuntimeEventInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RuntimeFieldInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RuntimeMethodInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RuntimeModule.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RuntimeParameterInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\RuntimePropertyInfo.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\AssemblyBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\AssemblyBuilderData.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\AssemblyBuilderAccess.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\AQNBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\ConstructorBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\DynamicILGenerator.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\DynamicMethod.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\EventBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\EventToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\FieldBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\FieldToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\ILGenerator.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\ISymWrapperCore.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\Label.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\LocalBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\MethodBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\MethodBuilderInstantiation.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\SymbolType.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\SymbolMethod.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\CustomAttributeBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\MethodToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\ModuleBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\ModuleBuilderData.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\PEFileKinds.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\OpCodes.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\Opcode.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\OpcodeType.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\StackBehaviour.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\OperandType.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\FlowControl.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\ParameterBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\ParameterToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\PropertyBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\PropertyToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\SignatureHelper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\SignatureToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\StringToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\TypeBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\TypeBuilderInstantiation.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\GenericTypeParameterBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\EnumBuilder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\TypeToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Emit\XXXOnTypeBuilderInstantiation.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Reflection\Metadata\AssemblyExtensions.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Globalization\BidiCategory.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\Calendar.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CalendarData.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CharUnicodeInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CharUnicodeInfoData.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CompareInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CompareInfo.Invariant.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CultureData.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CultureInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\GlobalizationMode.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\GregorianCalendar.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\GregorianCalendarHelper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\IdnMapping.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\RegionInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\TextElementEnumerator.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\TextInfo.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\TimeSpanFormat.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\TimeSpanParse.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(FeatureCoreFxGlobalization)' != 'true'">
    <Compile Include="$(BclSourcesRoot)\System\Globalization\EncodingDataItem.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\EncodingTable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\GlobalizationAssembly.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Threading\SynchronizationContext.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\EventWaitHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Interlocked.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Monitor.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Mutex.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Overlapped.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\PinnableBufferCache.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Semaphore.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Thread.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\ThreadInterruptedException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\ThreadPool.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Timer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Volatile.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\WaitHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\SpinLock.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\SpinWait.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\LazyInitializer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\ThreadLocal.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\ReaderWriterLockSlim.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\SemaphoreSlim.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\ManualResetEventSlim.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\CancellationTokenRegistration.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\CancellationTokenSource.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\CancellationToken.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\future.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\FutureFactory.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\Task.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\TaskContinuation.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\TaskExceptionHolder.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\TaskFactory.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\TaskScheduler.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\ThreadPoolTaskScheduler.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\TaskCompletionSource.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\AsyncCausalityTracer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\ConcurrentExclusiveSchedulerPair.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\ProducerConsumerQueues.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\TPLETWProvider.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\Tasks\TaskToApm.cs" />
    <Compile Condition="'$(FeatureCominterop)' == 'true'" Include="$(BclSourcesRoot)\System\Threading\Tasks\IAsyncCausalityTracerStatics.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Buffers\ArrayPoolEventSource.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\ClrThreadPoolBoundHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\ClrThreadPoolBoundHandleOverlapped.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Threading\ClrThreadPoolPreAllocatedOverlapped.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\IO\__Error.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\__HResults.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\BinaryReader.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\BinaryWriter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\Directory.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\SearchOption.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\DriveNotFoundException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\File.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\FileLoadException.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\FileNotFoundException.CoreCLR.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\IOException.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\MemoryStream.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\Stream.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\UnmanagedMemoryAccessor.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Security\DynamicSecurityMethodAttribute.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Assert.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\AssertFilter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\AssertFilters.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Debugger.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\DebuggerAttributes.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\ICustomDebuggerNotification.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\log.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\LoggingLevels.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\LogSwitch.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Stacktrace.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Stackframe.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\EditAndContinueHelper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Eventing\EventSource_CoreCLR.cs" />
    <Compile Condition="'$(FeatureXplatEventSource)' == 'true'" Include="$(BclSourcesRoot)\System\Diagnostics\Eventing\XplatEventLogger.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Eventing\FrameworkEventSource.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Contracts\Contracts.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Contracts\ContractsBCL.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\SymbolStore\ISymDocumentWriter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\SymbolStore\ISymWriter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\SymbolStore\SymAddressKind.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\SymbolStore\Token.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\ExceptionServices\CorruptingExceptionCommon.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\ExceptionServices\ExceptionServicesCommon.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\ExceptionServices\ExceptionNotification.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\Loader\AssemblyLoadContext.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Runtime\Serialization\FormatterConverter.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\Serialization\FormatterServices.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\Serialization\SerializationInfo.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Text\DecoderNLS.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\DecoderBestFitFallback.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\DecoderExceptionFallback.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\DecoderFallback.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\DecoderReplacementFallback.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\EncoderNLS.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\EncoderBestFitFallback.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\EncoderExceptionFallback.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\EncoderFallback.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\EncoderReplacementFallback.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\Encoding.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\Latin1Encoding.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\UTF7Encoding.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\Microsoft\Win32\UnsafeNativeMethods.cs" />
    <Compile Include="$(BclSourcesRoot)\Microsoft\Win32\Win32Native.cs" />
    <Compile Condition="'$(FeatureWin32Registry)' == 'true'" Include="$(BclSourcesRoot)\Microsoft\Win32\Registry.cs" />
    <Compile Condition="'$(FeatureWin32Registry)' == 'true'" Include="$(BclSourcesRoot)\Microsoft\Win32\RegistryKey.cs" />
    <Compile Condition="'$(FeatureWin32Registry)' == 'true'" Include="$(BclSourcesRoot)\Microsoft\Win32\RegistryValueKind.cs" />
    <Compile Condition="'$(FeatureWin32Registry)' == 'true'" Include="$(BclSourcesRoot)\Microsoft\Win32\RegistryView.cs" />
    <Compile Condition="'$(FeatureClassicCominterop)' == 'true'" Include="$(BclSourcesRoot)\Microsoft\Win32\OAVariantLib.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Resources\__FastResourceComparer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Resources\__HResults.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Resources\FileBasedResourceGroveler.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Resources\IResourceGroveler.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Resources\LooselyLinkedResourceReference.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Resources\ManifestBasedResourceGroveler.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Resources\ResourceManager.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Resources\ResourceReader.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Resources\ResourceSet.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Nullable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Generic\Comparer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Generic\ComparerHelpers.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Generic\Dictionary.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Generic\EqualityComparer.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Generic\DebugView.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Generic\List.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Generic\ArraySortHelper.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\ObjectModel\Collection.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\ObjectModel\ReadOnlyCollection.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\ObjectModel\ReadOnlyDictionary.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Concurrent\ConcurrentStack.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Concurrent\IProducerConsumerCollection.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Concurrent\ConcurrentDictionary.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Collections\Concurrent\ConcurrentQueue.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\Microsoft\Win32\SafeHandles\SafeFindHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\Microsoft\Win32\SafeHandles\SafeLibraryHandle.cs" />
    <Compile Include="$(BclSourcesRoot)\Microsoft\Win32\SafeHandles\SafeWaitHandle.cs" />
    <Compile Condition="'$(FeatureWin32Registry)' == 'true'" Include="$(BclSourcesRoot)\Microsoft\Win32\SafeHandles\SafeRegistryHandle.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="$(BclSourcesRoot)\System\Numerics\Hashing\HashHelpers.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(TargetsUnix)' == 'true'">
    <Compile Include="$(BclSourcesRoot)\Interop\Unix\System.Globalization.Native\Interop.ICU.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CompareInfo.Unix.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CultureInfo.Unix.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\EncodingTable.Unix.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\EncodingDataItem.Unix.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\GlobalizationMode.Unix.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\TextInfo.Unix.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\FileSystemEnumerable.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\TextReader.cs" />
    <Compile Include="$(BclSourcesRoot)\System\IO\StreamReader.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Runtime\Versioning\CompatibilitySwitch.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\Normalization.Unix.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TimeZoneInfo.Unix.cs" />
  </ItemGroup>
  <ItemGroup Condition="'$(TargetsWindows)' == 'true'">
    <Compile Include="$(BclSourcesRoot)\Interop\Windows\Normaliz\Interop.Idna.cs" />
    <Compile Include="$(BclSourcesRoot)\Interop\Windows\Normaliz\Interop.Normalization.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Diagnostics\Debug.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CalendarData.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CompareInfo.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CultureData.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\CultureInfo.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\GlobalizationMode.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\IdnMapping.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Globalization\TextInfo.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\Text\Normalization.Windows.cs" />
    <Compile Include="$(BclSourcesRoot)\System\TimeZoneInfo.Win32.cs" />
  </ItemGroup>
  <!-- Include additional sources shared files in the compilation -->
  <ItemGroup>
    <!-- These are files are preprocessed  -->
    <Compile Include="$(CommonPath)\Preprocessed\AssemblyRefs.g.cs" />
    <!-- These files are shared with other framework components and don't live the same folder as the rest of them-->
    <Compile Include="$(CommonPath)\NotImplemented.cs" />
    <Compile Include="$(CommonPath)\System\SR.cs" />
    <!-- Include Internals visible to file in the compilation -->
    <Compile Include="$(BclSourcesRoot)\mscorlib.Friends.cs" />
    <!-- TODO list of types to be cleaned up from CoreLib -->
    <Compile Include="$(BclSourcesRoot)\CleanupToDoList.cs" />
  </ItemGroup>
  <ItemGroup>
    <Compile Include="src\System\Runtime\RuntimeImports.cs" />
  </ItemGroup>
  <Import Project="shared\System.Private.CoreLib.Shared.projitems" Label="Shared" />
  <PropertyGroup>
    <CheckCDefines Condition="'$(CheckCDefines)'==''">true</CheckCDefines>
  </PropertyGroup>
  <Target Name="CDefineChecker" BeforeTargets="Build" Condition="'$(CheckCDefines)'=='true'">
    <!-- Compiler Definition Verification -->
    <Message Importance="High" Text="============" />
    <PropertyGroup>
      <IgnoreDefineConstants>FEATURE_IMPLICIT_TLS;FEATURE_HIJACK</IgnoreDefineConstants>
      <CMakeDefinitionSaveFile>$(IntermediateOutputPath)\cmake.definitions</CMakeDefinitionSaveFile>
    </PropertyGroup>
    <Exec Command="python $(MSBuildThisFileDirectory)..\scripts\check-definitions.py &quot;$(CMakeDefinitionSaveFile)&quot; &quot;$(DefineConstants)&quot; &quot;$(IgnoreDefineConstants)&quot; " />
    <Message Importance="High" Text="============" />
  </Target>
  <PropertyGroup Condition="'$(BuildOS)' == 'Windows_NT'">
    <EnableDotnetAnalyzers Condition="'$(EnableDotnetAnalyzers)'==''">true</EnableDotnetAnalyzers>
    <UseWin32Apis>true</UseWin32Apis>
    <OSGroup>Windows_NT</OSGroup>
  </PropertyGroup>
  <PropertyGroup>
    <StrongNameSig>Silverlight</StrongNameSig>
  </PropertyGroup>
  <Import Project="$(MSBuildThisFileDirectory)Tools\Versioning\GenerateVersionInfo.targets" />
  <!--
    Import common targets: codeAnalysis, Microsoft.CSharp, sign, versioning, codeOptimizations, etc.
    In doing so, override versioning targets.
  -->
  <Import Project="$([MSBuild]::GetDirectoryNameOfFileAbove($(MSBuildThisFileDirectory), dir.targets))\dir.targets" />
  <PropertyGroup>
    <!-- Overwrite the key that we are going to use for signing -->
    <AssemblyOriginatorKeyFile>$(MSBuildThisFileDirectory)Tools\Signing\mscorlib.snk</AssemblyOriginatorKeyFile>
    <!-- Use a different nativeresource file to avoid conflicts with mscorlib-->
    <Win32Resource Condition="'$(GenerateNativeVersionInfo)'=='true'">$(IntermediateOutputPath)\System.Private.CoreLib.res</Win32Resource>
  </PropertyGroup>
  <Import Project="GenerateCompilerResponseFile.targets" />
</Project>
