<Project Sdk="Microsoft.NET.Sdk">

  <!-- This project is specifically to build and publish a build of crossgen2 for shipping. -->
  <PropertyGroup>
    <_IsPublishing>true</_IsPublishing>
    <PublishTrimmed>true</PublishTrimmed>
    <RuntimeIdentifier>$(PackageRID)</RuntimeIdentifier>
    <SelfContained>true</SelfContained>
    <TrimmerSingleWarn>false</TrimmerSingleWarn>
    <PublishDir>$(RuntimeBinDir)crossgen2-published/</PublishDir>
    <AotOrSingleFile>true</AotOrSingleFile>
  </PropertyGroup>

  <Import Project="crossgen2.props" />

  <Target Name="PublishAfterBuild"
          AfterTargets="Build"
          DependsOnTargets="Publish" />

</Project>
